* This file contains 1.8V, 3.3V mos, resistor and mim corner model parameters.
* Five corners are supported: TT, FF, SS, SNFP, and FNSP.
* Monte Carlo statistical model is supported: mos_mc,MIM_MC
* This file should be used with the model parameter file 'mse018_v1p11_mis_rf.mdl', 'mse018_v1p11_rf_res.ckt' , 'mse018_v1p11_rf_mim.ckt',
* 'mse018_v1p11_res.mdl' ,'mse018_v1p11_diff_ind_3t_rf.ckt','mse018_v1p11_diff_ind_3t_rf_psub.ckt',
* 'mse018_v1p11_diff_ind_rf.ckt','mse018_v1p11_diff_ind_rf_psub.ckt','mse018_v1p11_ind_rf.ckt',
* 'mse018_v1p11_ind_rf_psub.ckt' and 'mse018_v1p11_rf_var.ckt'.
* No part of this file can be released without the consent of SMIC.

.lib tt
.option gmindc=1e-14
.param

+sigma_mis_a_rf=agauss(0,1,1)
+sigma_mis_b_rf=agauss(0,1,1)
+sigma_mis_c_rf=agauss(0,1,1)
+sigma_mis_d_rf=agauss(0,1,1)
+sigma_mis_e_rf=agauss(0,1,1)
+sigma_mis_f_rf=agauss(0,1,1)
+sigma_mis_g_rf=agauss(0,1,1)
+sigma_mis_h_rf=agauss(0,1,1)

* 1.8v nmos (TT corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '0+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '0+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '0+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'  
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (tt corner)
+dtoxe_n18_rf     = 0             dxl_n18_rf       = 0            dxw_n18_rf       = 0 
+dcj_n18_rf       = 0             dcjsw_n18_rf     = 0            dcjswg_n18_rf    = 0
+dcgdo_n18_rf     = 0             dcgdl_n18_rf     = 0            dcf_n18_rf       = 0
+dvth0_n18_rf     = 0             dlvth0_n18_rf    = 0            dpvth0_n18_rf    = 0            
+du0_n18_rf       = 0             dlu0_n18_rf      = 0            dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0             dlvsat_n18_rf    = 0            dpvsat_n18_rf    = 0            
+dvoff_n18_rf     = 0             dwvth0_n18_rf    = 0            dwu0_n18_rf      = 0    
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n18_ckt_rf


* 1.8v nmos in dnw with 4 ports(TT corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '0+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '0+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '0+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'  
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (tt corner)
+dtoxe_n18_rf     = 0            dxl_n18_rf       = 0            dxw_n18_rf       = 0 
+dcj_n18_rf       = 0            dcjsw_n18_rf     = 0            dcjswg_n18_rf    = 0
+dcgdo_n18_rf     = 0            dcgdl_n18_rf     = 0            dcf_n18_rf       = 0
+dvth0_n18_rf     = 0            dlvth0_n18_rf    = 0            dpvth0_n18_rf    = 0            
+du0_n18_rf       = 0            dlu0_n18_rf      = 0            dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = 0            dpvsat_n18_rf    = 0            
+dvoff_n18_rf     = 0            dwvth0_n18_rf    = 0            dwu0_n18_rf      = 0  
+dcgdext_n18_rf   = 0
+dcgsext_n18_rf   = 0
+drg_n18_rf       = 0
+drshg_n18_rf     = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_ckt_rf


* 1.8v nmos in dnw with 6 ports(TT corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw18_6t_ckt_rf 1 2 3 4 5 6 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '0+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '0+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '0+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'  
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (tt corner)
+dtoxe_n18_rf     = 0            dxl_n18_rf       = 0            dxw_n18_rf       = 0 
+dcj_n18_rf       = 0            dcjsw_n18_rf     = 0            dcjswg_n18_rf    = 0
+dcgdo_n18_rf     = 0            dcgdl_n18_rf     = 0            dcf_n18_rf       = 0
+dvth0_n18_rf     = 0            dlvth0_n18_rf    = 0            dpvth0_n18_rf    = 0            
+du0_n18_rf       = 0            dlu0_n18_rf      = 0            dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = 0            dpvsat_n18_rf    = 0            
+dvoff_n18_rf     = 0            dwvth0_n18_rf    = 0            dwu0_n18_rf      = 0  
+dcgdext_n18_rf   = 0
+dcgsext_n18_rf   = 0
+drg_n18_rf       = 0
+drshg_n18_rf     = 0
+dcj_diobpw_rf    = 0.00           
+dcjsw_diobpw_rf  = 0.00
+dcj_dnwdio_rf    = 0.00           
+dcjsw_dnwdio_rf  = 0.00
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level    = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_6t_ckt_rf

* 1.8v pmos (TT corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p18_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis                 = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis                 = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis                   = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis                 = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis                 = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '0+dtoxe_p18_mis'
+dvth0_p18_mismatch_rf         = '0+dvth0_p18_mis'
+du0_p18_mismatch_rf           = '0+du0_p18_mis'
+dvoff_p18_mismatch_rf         = '0+dvoff_p18_mis'
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (tt corner)
+dtoxe_p18_rf     = 0            dxl_p18_rf       = 0            dxw_p18_rf       = 0
+dcj_p18_rf       = 0            dcjsw_p18_rf     = 0            dcjswg_p18_rf    = 0
+dcgdo_p18_rf     = 0            dcgdl_p18_rf     = 0            dcf_p18_rf       = 0
+dvth0_p18_rf     = 0            dlvth0_p18_rf    = 0            dpvth0_p18_rf    = 0
+du0_p18_rf       = 0            dlu0_p18_rf      = 0            dpu0_p18_rf      = 0
+dvsat_p18_rf     = 0            dlvsat_p18_rf    = 0            dpvsat_p18_rf    = 0
+dvoff_p18_rf     = 0            dwvth0_p18_rf    = 0            dwu0_p18_rf      = 0
+dlpe0_p18_rf     = 0            dminv_p18_rf     = 0            dlminv_p18_rf    = 0
+dcj_pdio18_rf    = 0
+dcjp_pdio18_rf   = 0
+dcgdext_p18_rf   = 0
+dcgsext_p18_rf   = 0
+drg_p18_rf       = 0
+drshg_p18_rf     = 0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_ckt_rf

* 1.8v pmos with psub as 5th terminal(TT corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p18_5t_ckt_rf 1 2 3 4 5 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arnw=1e-12 pjnw=4e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis                 = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis                 = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis                   = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis                 = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis                 = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '0+dtoxe_p18_mis'
+dvth0_p18_mismatch_rf         = '0+dvth0_p18_mis'
+du0_p18_mismatch_rf           = '0+du0_p18_mis'
+dvoff_p18_mismatch_rf         = '0+dvoff_p18_mis'
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (tt corner)
+dtoxe_p18_rf     = 0            dxl_p18_rf       = 0            dxw_p18_rf       = 0
+dcj_p18_rf       = 0            dcjsw_p18_rf     = 0            dcjswg_p18_rf    = 0
+dcgdo_p18_rf     = 0            dcgdl_p18_rf     = 0            dcf_p18_rf       = 0
+dvth0_p18_rf     = 0            dlvth0_p18_rf    = 0            dpvth0_p18_rf    = 0
+du0_p18_rf       = 0            dlu0_p18_rf      = 0            dpu0_p18_rf      = 0
+dvsat_p18_rf     = 0            dlvsat_p18_rf    = 0            dpvsat_p18_rf    = 0
+dvoff_p18_rf     = 0            dwvth0_p18_rf    = 0            dwu0_p18_rf      = 0
+dlpe0_p18_rf     = 0            dminv_p18_rf     = 0            dlminv_p18_rf    = 0
+dcj_pdio18_rf    = 0
+dcjp_pdio18_rf   = 0
+dcgdext_p18_rf   = 0
+dcgsext_p18_rf   = 0
+drg_p18_rf       = 0
+drshg_p18_rf     = 0
+dcj_nwdio_rf     = 0
+dcjp_nwdio_rf    = 0  
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16
*
.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131*(1+dcj_nwdio_rf)'        cjp     = '5.0047e-010*(1+dcjp_nwdio_rf)'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
*

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_5t_ckt_rf

* 3.3v nmos (TT corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf       = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf         = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf         = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf       = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf         = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf       = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf       = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf  = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf    = '0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf    = '0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf  = '0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf    = '0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf  = '0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf  = '0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (tt corner)
+dtoxe_n33_rf    = 0           dxl_n33_rf      = 0            dxw_n33_rf       = 0              
+dcjs_n33_rf     = 0           dcjsws_n33_rf   = 0            dcjswgs_n33_rf   = 0           
+dcgdo_n33_rf    = 0           dcgdl_n33_rf    = 0            dcgso_n33_rf     = 0             
+dcgsl_n33_rf    = 0           dcf_n33_rf      = 0            dvth0_n33_rf     = 0             
+dlvth0_n33_rf   = 0           dwvth0_n33_rf   = 0            dpvth0_n33_rf    = 0            
+du0_n33_rf      = 0           dlu0_n33_rf     = 0            dwu0_n33_rf      = 0              
+dpu0_n33_rf     = 0           dvsat_n33_rf    = 0            dlvsat_n33_rf    = 0            
+dwvsat_n33_rf   = 0           dpvsat_n33_rf   = 0            djtsswgs_n33_rf  = 0          
+djtsswgd_n33_rf = 0           dlagidl_n33_rf  = 0            dpagidl_n33_rf   = 0 
+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(tt corner)
+djs_ndio33_rf   = 0
+dn_ndio33_rf    = 0
+djsw_ndio33_rf  = 0
+dcj_ndio33_rf   = 0
+dcjsw_ndio33_rf = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n33_ckt_rf


* 3.3v nmos in dnw with 4 ports(TT corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf       = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf         = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf         = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf       = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf         = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf       = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf       = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf  = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf    = '0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf    = '0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf  = '0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf    = '0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf  = '0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf  = '0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (tt corner)
+dtoxe_n33_rf    = 0           dxl_n33_rf      = 0            dxw_n33_rf       = 0              
+dcjs_n33_rf     = 0           dcjsws_n33_rf   = 0            dcjswgs_n33_rf   = 0           
+dcgdo_n33_rf    = 0           dcgdl_n33_rf    = 0            dcgso_n33_rf     = 0             
+dcgsl_n33_rf    = 0           dcf_n33_rf      = 0            dvth0_n33_rf     = 0             
+dlvth0_n33_rf   = 0           dwvth0_n33_rf   = 0            dpvth0_n33_rf    = 0            
+du0_n33_rf      = 0           dlu0_n33_rf     = 0            dwu0_n33_rf      = 0              
+dpu0_n33_rf     = 0           dvsat_n33_rf    = 0            dlvsat_n33_rf    = 0            
+dwvsat_n33_rf   = 0           dpvsat_n33_rf   = 0            djtsswgs_n33_rf  = 0          
+djtsswgd_n33_rf = 0           dlagidl_n33_rf  = 0            dpagidl_n33_rf   = 0 
+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(tt corner)
+djs_ndio33_rf   = 0
+dn_ndio33_rf    = 0
+djsw_ndio33_rf  = 0
+dcj_ndio33_rf   = 0
+dcjsw_ndio33_rf = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_ckt_rf

* 3.3v nmos in dnw with 6 ports(TT corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw33_6t_ckt_rf 1 2 3 4 5 6 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf       = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf         = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf         = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf       = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf         = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf       = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf       = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf  = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf    = '0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf    = '0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf  = '0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf    = '0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf  = '0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf  = '0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (tt corner)
+dtoxe_n33_rf    = 0           dxl_n33_rf      = 0            dxw_n33_rf       = 0              
+dcjs_n33_rf     = 0           dcjsws_n33_rf   = 0            dcjswgs_n33_rf   = 0           
+dcgdo_n33_rf    = 0           dcgdl_n33_rf    = 0            dcgso_n33_rf     = 0             
+dcgsl_n33_rf    = 0           dcf_n33_rf      = 0            dvth0_n33_rf     = 0             
+dlvth0_n33_rf   = 0           dwvth0_n33_rf   = 0            dpvth0_n33_rf    = 0            
+du0_n33_rf      = 0           dlu0_n33_rf     = 0            dwu0_n33_rf      = 0              
+dpu0_n33_rf     = 0           dvsat_n33_rf    = 0            dlvsat_n33_rf    = 0            
+dwvsat_n33_rf   = 0           dpvsat_n33_rf   = 0            djtsswgs_n33_rf  = 0          
+djtsswgd_n33_rf = 0           dlagidl_n33_rf  = 0            dpagidl_n33_rf   = 0 
+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(tt corner)
+djs_ndio33_rf   = 0
+dn_ndio33_rf    = 0
+djsw_ndio33_rf  = 0
+dcj_ndio33_rf   = 0
+dcjsw_ndio33_rf = 0
*diobpw_rf(tt corner)
+djs_diobpw_rf   = 0.00           
+djsw_diobpw_rf  = 0.00          
+dn_diobpw_rf    = 0.00
+dcj_diobpw_rf   = 0.00           
+dcjsw_diobpw_rf = 0.00
*dnwdio_rf(tt corner)
+djs_dnwdio_rf   = 0.00           
+djsw_dnwdio_rf  = 0.00          
+dn_dnwdio_rf    = 0.00
+dcj_dnwdio_rf   = 0.00           
+dcjsw_dnwdio_rf = 0.00

+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************
Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11 ndio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0
***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level   = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_6t_ckt_rf



* 3.3v pmos (TT corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p33_ckt_rf 1 2 3 4 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis       = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis         = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis         = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis       = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis         = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis       = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis       = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis       = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch  = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch    = '0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch    = '0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch  = '0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch    = '0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch  = '0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch  = '0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch  = '0+deta0_p33_rf_mis'
*p33_ckt(TT corner)
+dtoxe_p33_rf   = 0              dxl_p33_rf      = 0               dxw_p33_rf       = 0              
+dcjs_p33_rf    = 0              dcjsws_p33_rf   = 0               dcjswgs_p33_rf   = 0           
+dcgdo_p33_rf   = 0              dcgso_p33_rf    = 0               dcgdl_p33_rf     = 0             
+dcgsl_p33_rf   = 0              dcf_p33_rf      = 0               dvth0_p33_rf     = 0             
+dlvth0_p33_rf  = 0              dwvsat_p33_rf   = 0               dpvth0_p33_rf    = 0            
+du0_p33_rf     = 0              dlu0_p33_rf     = 0               dwu0_p33_rf      = 0              
+dpu0_p33_rf    = 0              dvsat_p33_rf    = 0               dlvsat_p33_rf    = 0            
+dpvsat_p33_rf  = 0              dwvth0_p33_rf   = 0               dagidl_p33_rf    = 0            
+dlagidl_p33_rf = 0              dwagidl_p33_rf  = 0               dpagidl_p33_rf   = 0           
+dcgdext_p33_rf = 0
+dcgsext_p33_rf = 0
+drg_p33_rf     = 0
+drshg_p33_rf   = 0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'
*****************************************
+Cgd_rf       = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf       = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf       = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf        = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf     = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf     = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_ckt_rf

* 1.8v pmos with psub as 5th terminal(TT corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p33_5t_ckt_rf 1 2 3 4 5 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1  arnw=180.37e-12 pjnw=59.44e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis        = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis          = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis          = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis        = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis          = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis        = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis        = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis        = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch   = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch     = '0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch     = '0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch   = '0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch     = '0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch   = '0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch   = '0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch   = '0+deta0_p33_rf_mis'
*p33_ckt(TT corner)
+dtoxe_p33_rf   = 0              dxl_p33_rf     = 0               dxw_p33_rf      = 0              
+dcjs_p33_rf    = 0              dcjsws_p33_rf  = 0               dcjswgs_p33_rf  = 0           
+dcgdo_p33_rf   = 0              dcgso_p33_rf   = 0               dcgdl_p33_rf    = 0             
+dcgsl_p33_rf   = 0              dcf_p33_rf     = 0               dvth0_p33_rf    = 0             
+dlvth0_p33_rf  = 0              dwvsat_p33_rf  = 0               dpvth0_p33_rf   = 0            
+du0_p33_rf     = 0              dlu0_p33_rf    = 0               dwu0_p33_rf     = 0              
+dpu0_p33_rf    = 0              dvsat_p33_rf   = 0               dlvsat_p33_rf   = 0            
+dpvsat_p33_rf  = 0              dwvth0_p33_rf  = 0               dagidl_p33_rf   = 0            
+dlagidl_p33_rf = 0              dwagidl_p33_rf = 0               dpagidl_p33_rf  = 0           
+dcgdext_p33_rf = 0
+dcgsext_p33_rf = 0
+drg_p33_rf     = 0
+drshg_p33_rf   = 0
+dcj_nwdio_rf   = 0
+dcjp_nwdio_rf  = 0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'
*****************************************
+Cgd_rf       = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf       = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf       = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf        = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf     = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf     = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131+dcj_nwdio_rf'        cjp     = '5.0047e-010+dcjp_nwdio_rf'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_5t_ckt_rf


.endl tt




.lib ff
.option gmindc=1e-14
.param

+sigma_mis_a_rf=agauss(0,1,1)
+sigma_mis_b_rf=agauss(0,1,1)
+sigma_mis_c_rf=agauss(0,1,1)
+sigma_mis_d_rf=agauss(0,1,1)
+sigma_mis_e_rf=agauss(0,1,1)
+sigma_mis_f_rf=agauss(0,1,1)
+sigma_mis_g_rf=agauss(0,1,1)
+sigma_mis_h_rf=agauss(0,1,1)

* 1.8v nmos (FF corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis              = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis              = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis                = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis              = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '-4.6e-11+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '-0.0325+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '1E-3+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (ff corner)
+dtoxe_n18_rf     = -4.6e-11     dxl_n18_rf       = -5e-9        dxw_n18_rf       = 9.1e-9 
+dcj_n18_rf       = -4.94e-5     dcjsw_n18_rf     = -2.91e-12    dcjswg_n18_rf    = -1.85e-11
+dcgdo_n18_rf     = 9e-12        dcgdl_n18_rf     = 4.5e-12      dcf_n18_rf       = 4.27e-12
+dvth0_n18_rf     = -0.0325      dlvth0_n18_rf    = -2.4e-9      dpvth0_n18_rf    = -1.24E-15            
+du0_n18_rf       = 1E-3         dlu0_n18_rf      = 1.2e-10      dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = 9e-4         dpvsat_n18_rf    = 4E-11            
+dvoff_n18_rf     = -0.01        dwvth0_n18_rf    = -6.5E-9      dwu0_n18_rf      = 0  
+dcgdext_n18_rf   = 0.05
+dcgsext_n18_rf   = 0.05
+drg_n18_rf       = -0.2
+drshg_n18_rf     = -3.171
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n18_ckt_rf


* 1.8v nmos in dnw with 4 ports(FF corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis              = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis              = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis                = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis              = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '-4.6e-11+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '-0.0325+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '1E-3+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (ff corner)
+dtoxe_n18_rf     = -4.6e-11     dxl_n18_rf       = -5e-9        dxw_n18_rf       = 9.1e-9 
+dcj_n18_rf       = -4.94e-5     dcjsw_n18_rf     = -2.91e-12    dcjswg_n18_rf    = -1.85e-11
+dcgdo_n18_rf     = 9e-12        dcgdl_n18_rf     = 4.5e-12      dcf_n18_rf       = 4.27e-12
+dvth0_n18_rf     = -0.0325      dlvth0_n18_rf    = -2.4e-9      dpvth0_n18_rf    = -1.24E-15            
+du0_n18_rf       = 1E-3         dlu0_n18_rf      = 1.2e-10      dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = 9e-4         dpvsat_n18_rf    = 4E-11            
+dvoff_n18_rf     = -0.01        dwvth0_n18_rf    = -6.5E-9      dwu0_n18_rf      = 0  
+dcgdext_n18_rf   = 0.05
+dcgsext_n18_rf   = 0.05
+drg_n18_rf       = -0.2
+drshg_n18_rf     = -3.171
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl        ='0.5749*Log(lr*1e6)+1.9162'
+kdlc         = '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf       = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf       = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf       = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf        =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf     = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf     = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_ckt_rf


* 1.8v nmos in dnw with 6 ports(FF corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw18_6t_ckt_rf 1 2 3 4 5 6 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis              = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis              = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis                = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis              = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '-4.6e-11+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '-0.0325+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '1E-3+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf =1e-024
+avth0_n18_rf =3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (ff corner)
+dtoxe_n18_rf     = -4.6e-11     dxl_n18_rf       = -5e-9        dxw_n18_rf       = 9.1e-9 
+dcj_n18_rf       = -4.94e-5     dcjsw_n18_rf     = -2.91e-12    dcjswg_n18_rf    = -1.85e-11
+dcgdo_n18_rf     = 9e-12        dcgdl_n18_rf     = 4.5e-12      dcf_n18_rf       = 4.27e-12
+dvth0_n18_rf     = -0.0325      dlvth0_n18_rf    = -2.4e-9      dpvth0_n18_rf    = -1.24E-15            
+du0_n18_rf       = 1E-3         dlu0_n18_rf      = 1.2e-10      dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = 9e-4         dpvsat_n18_rf    = 4E-11            
+dvoff_n18_rf     = -0.01        dwvth0_n18_rf    = -6.5E-9      dwu0_n18_rf      = 0  
+dcgdext_n18_rf   = 0.05
+dcgsext_n18_rf   = 0.05
+drg_n18_rf       = -0.2
+drshg_n18_rf     = -3.171
*diobpw(ff corner)
+dcj_diobpw_rf    = -2.493e-05       
+dcjsw_diobpw_rf  = -1.993e-11

*dnwdio(ff corner)
+dcj_dnwdio_rf    = -6.9121e-6      
+dcjsw_dnwdio_rf  = -3.3683e-11
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'

*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf       = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf       = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf       = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf        =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf     = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf     = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level    = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_6t_ckt_rf
* 1.8v pmos (ff corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p18_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis                 = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis                 = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis                   = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis                 = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis                 = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '-4.6e-11+dtoxe_p18_mis'               
+dvth0_p18_mismatch_rf         = '0.054+dvth0_p18_mis'  
+du0_p18_mismatch_rf           = '0+du0_p18_mis'               
+dvoff_p18_mismatch_rf         = '-0.007+dvoff_p18_mis'  
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (ff corner)
+dtoxe_p18_rf     = -4.6e-11     dxl_p18_rf       = -5e-9         dxw_p18_rf       = 9.1e-9 
+dcj_p18_rf       = -5.528E-05   dcjsw_p18_rf     = -4.3704e-12   dcjswg_p18_rf    = -2.11e-11
+dcgdo_p18_rf     = 1.05e-11     dcgdl_p18_rf     = 8.8e-12       dcf_p18_rf       = 4.25e-12
+dvth0_p18_rf     = 0.054        dlvth0_p18_rf    = 2e-009        dpvth0_p18_rf    = 6.8e-016            
+du0_p18_rf       = 0            dlu0_p18_rf      = 0             dpu0_p18_rf      = 1.6e-17  
+dvsat_p18_rf     = 0            dlvsat_p18_rf    = 0             dpvsat_p18_rf    = 0            
+dvoff_p18_rf     = -0.007       dwvth0_p18_rf    = 3E-9          dwu0_p18_rf      = 5e-11  
+dlpe0_p18_rf     = 0            dminv_p18_rf     = 0             dlminv_p18_rf    = -5e-8           
+dcj_pdio18_rf    = -0.05
+dcjp_pdio18_rf   = -0.05
+dcgdext_p18_rf   = 0.05
+dcgsext_p18_rf   = 0.05
+drg_p18_rf       = -0.2
+drshg_p18_rf     = -2.534
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf       = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf       = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf        = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf     = '200/nf'
+Rsub2_rf     = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_ckt_rf

* 1.8v pmos with psub as 5th terminal(ff corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p18_5t_ckt_rf 1 2 3 4 5 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arnw=1e-12 pjnw=4e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis                 = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis                 = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis                   = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis                 = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis                 = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '-4.6e-11+dtoxe_p18_mis'               
+dvth0_p18_mismatch_rf         = '0.054+dvth0_p18_mis'  
+du0_p18_mismatch_rf           = '0+du0_p18_mis'               
+dvoff_p18_mismatch_rf         = '-0.007+dvoff_p18_mis'  
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (ff corner)
+dtoxe_p18_rf     = -4.6e-11     dxl_p18_rf       = -5e-9         dxw_p18_rf       = 9.1e-9 
+dcj_p18_rf       = -5.528E-05   dcjsw_p18_rf     = -4.3704e-12   dcjswg_p18_rf    = -2.11e-11
+dcgdo_p18_rf     = 1.05e-11     dcgdl_p18_rf     = 8.8e-12       dcf_p18_rf       = 4.25e-12
+dvth0_p18_rf     = 0.054        dlvth0_p18_rf    = 2e-009        dpvth0_p18_rf    = 6.8e-016            
+du0_p18_rf       = 0            dlu0_p18_rf      = 0             dpu0_p18_rf      = 1.6e-17  
+dvsat_p18_rf     = 0            dlvsat_p18_rf    = 0             dpvsat_p18_rf    = 0            
+dvoff_p18_rf     = -0.007       dwvth0_p18_rf    = 3E-9          dwu0_p18_rf      = 5e-11  
+dlpe0_p18_rf     = 0            dminv_p18_rf     = 0             dlminv_p18_rf    = -5e-8           
+dcj_pdio18_rf    = -0.05
+dcjp_pdio18_rf   = -0.05
+dcgdext_p18_rf   = 0.05
+dcgsext_p18_rf   = 0.05
+drg_p18_rf       = -0.2
+drshg_p18_rf     = -2.534
+dcj_nwdio_rf     = -0.05
+dcjp_nwdio_rf    = -0.05  
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf       = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf       = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf        = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf     = '200/nf'
+Rsub2_rf     = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16
*
.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131*(1+dcj_nwdio_rf)'        cjp     = '5.0047e-010*(1+dcjp_nwdio_rf)'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
*

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_5t_ckt_rf

* 3.3v nmos (FF corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf      = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf        = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf        = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf      = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf        = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf      = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf      = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf   ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf   ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf ='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf   ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (ff corner)
+dtoxe_n33_rf= -7.5531E-11    dxl_n33_rf = -5.0E-9         dxw_n33_rf = 9.1E-9          
+dcjs_n33_rf= -4.3049E-5      dcjsws_n33_rf= -4.8385E-12  
+dcjswgs_n33_rf= -1.4141E-11  dcgdo_n33_rf= 5.0E-12        dcgdl_n33_rf= 1.3E-11       
+dcgso_n33_rf= 5.0E-12        dcgsl_n33_rf= 1.3E-11        dcf_n33_rf = 3.775E-12      
+dvth0_n33_rf= -0.0554063     dlvth0_n33_rf= -7.6548E-9    dwvth0_n33_rf= -8.558e-9 
+dpvth0_n33_rf= 1.0197E-15    du0_n33_rf = 0.00181540      dlu0_n33_rf= 1.0693E-10     
+dwu0_n33_rf= -9.4343E-11     dpu0_n33_rf= 2.592E-16       dvsat_n33_rf= 0             
+dlvsat_n33_rf= 0.00106650    dwvsat_n33_rf= 0             dpvsat_n33_rf= 3.0E-10      
+djtsswgs_n33_rf= 8.224E-9    djtsswgd_n33_rf= 8.224E-9    dlagidl_n33_rf= 1.6826E-14  
+dpagidl_n33_rf= 5.5728E-21  
+dcgdext_n33_rf = 0.05
+dcgsext_n33_rf = 0.05
+drg_n33_rf = -0.2
+drshg_n33_rf = -3.171

*ndio33(ff corner)
+djs_ndio33_rf = 1.257e-07
+dn_ndio33_rf = -1.030e-02
+djsw_ndio33_rf = 1.975e-13
+dcj_ndio33_rf = -4.305e-05
+dcjsw_ndio33_rf = -4.839e-12
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n33_ckt_rf

* 3.3v nmos in dnw with 4 ports(FF corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (ff corner)
+dtoxe_n33_rf= -7.5531E-11    dxl_n33_rf = -5.0E-9         dxw_n33_rf = 9.1E-9          
+dcjs_n33_rf= -4.3049E-5      dcjsws_n33_rf= -4.8385E-12  
+dcjswgs_n33_rf= -1.4141E-11  dcgdo_n33_rf= 5.0E-12        dcgdl_n33_rf= 1.3E-11       
+dcgso_n33_rf= 5.0E-12        dcgsl_n33_rf= 1.3E-11        dcf_n33_rf = 3.775E-12      
+dvth0_n33_rf= -0.0554063     dlvth0_n33_rf= -7.6548E-9    dwvth0_n33_rf= -8.558e-9 
+dpvth0_n33_rf= 1.0197E-15    du0_n33_rf = 0.00181540      dlu0_n33_rf= 1.0693E-10     
+dwu0_n33_rf= -9.4343E-11     dpu0_n33_rf= 2.592E-16       dvsat_n33_rf= 0             
+dlvsat_n33_rf= 0.00106650    dwvsat_n33_rf= 0             dpvsat_n33_rf= 3.0E-10      
+djtsswgs_n33_rf= 8.224E-9    djtsswgd_n33_rf= 8.224E-9    dlagidl_n33_rf= 1.6826E-14  
+dpagidl_n33_rf= 5.5728E-21  
+dcgdext_n33_rf = 0.05
+dcgsext_n33_rf = 0.05
+drg_n33_rf = -0.2
+drshg_n33_rf = -3.171 

*ndio33(ff corner)
+djs_ndio33_rf = 1.257e-07
+dn_ndio33_rf = -1.030e-02
+djsw_ndio33_rf = 1.975e-13
+dcj_ndio33_rf = -4.305e-05
+dcjsw_ndio33_rf = -4.839e-12
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_ckt_rf

* 3.3v nmos in dnw with 6 ports(FF corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw33_6t_ckt_rf 1 2 3 4 5 6 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (ff corner)
+dtoxe_n33_rf= -7.5531E-11    dxl_n33_rf = -5.0E-9         dxw_n33_rf = 9.1E-9          
+dcjs_n33_rf= -4.3049E-5      dcjsws_n33_rf= -4.8385E-12  
+dcjswgs_n33_rf= -1.4141E-11  dcgdo_n33_rf= 5.0E-12        dcgdl_n33_rf= 1.3E-11       
+dcgso_n33_rf= 5.0E-12        dcgsl_n33_rf= 1.3E-11        dcf_n33_rf = 3.775E-12      
+dvth0_n33_rf= -0.0554063     dlvth0_n33_rf= -7.6548E-9    dwvth0_n33_rf= -8.558e-9 
+dpvth0_n33_rf= 1.0197E-15    du0_n33_rf = 0.00181540      dlu0_n33_rf= 1.0693E-10     
+dwu0_n33_rf= -9.4343E-11     dpu0_n33_rf= 2.592E-16       dvsat_n33_rf= 0             
+dlvsat_n33_rf= 0.00106650    dwvsat_n33_rf= 0             dpvsat_n33_rf= 3.0E-10      
+djtsswgs_n33_rf= 8.224E-9    djtsswgd_n33_rf= 8.224E-9    dlagidl_n33_rf= 1.6826E-14  
+dpagidl_n33_rf= 5.5728E-21  
+dcgdext_n33_rf = 0.05
+dcgsext_n33_rf = 0.05
+drg_n33_rf = -0.2
+drshg_n33_rf = -3.171 

*ndio33(ff corner)
+djs_ndio33_rf = 1.257e-07
+dn_ndio33_rf = -1.030e-02
+djsw_ndio33_rf = 1.975e-13
+dcj_ndio33_rf = -4.305e-05
+dcjsw_ndio33_rf = -4.839e-12
*diobpw_rf(ff corner)
+djs_diobpw_rf = 3.116e-07        
+dn_diobpw_rf = -1.123e-02              
+djsw_diobpw_rf = 7.018e-14
+dcj_diobpw_rf = -2.493e-05       
+dcjsw_diobpw_rf = -1.993e-11
*dnwdio_rf(ff corner)
+djs_dnwdio_rf         = 3.045e-7        
+djsw_dnwdio_rf           = 5.5e-16        
+dn_dnwdio_rf           = -9.79e-3
+dcj_dnwdio_rf         = -6.9121e-6      
+dcjsw_dnwdio_rf          = -3.3683e-11

+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
***
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0
***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level   = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_6t_ckt_rf


* 3.3v pmos (FF corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p33_ckt_rf 1 2 3 4 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'

*p33_ckt(FF corner)
+dtoxe_p33_rf= -7.5531E-11    dxl_p33_rf = -5.0E-9        
+dxw_p33_rf = 9.1E-9          dcjs_p33_rf= -5.22E-5        dcjsws_p33_rf= -4.285E-12   
+dcjswgs_p33_rf= -1.2111E-11  dcgdo_p33_rf= 5.0E-12        dcgso_p33_rf= 5.0E-12       
+dcgdl_p33_rf= 1.26E-11       dcgsl_p33_rf= 1.26E-11       dcf_p33_rf = 1.525E-12      
+dvth0_p33_rf= 0.054786       dlvth0_p33_rf= 1.1949E-9     dwvth0_p33_rf= 3.7507E-9    
+dpvth0_p33_rf= 1.0598E-15    du0_p33_rf = 0.000555257     dlu0_p33_rf= 5.446E-11      
+dwu0_p33_rf= 1.0488E-10      dpu0_p33_rf= -1.4E-17        dvsat_p33_rf= 0             
+dlvsat_p33_rf= 0.000937728   dwvsat_p33_rf= 0             dpvsat_p33_rf= 3.9E-11      
+dagidl_p33_rf= 0             dlagidl_p33_rf= 4.7142E-18   dwagidl_p33_rf= 2.0E-18     
+dpagidl_p33_rf= 1.0E-24      

+dcgdext_p33_rf = 0.05
+dcgsext_p33_rf = 0.05
+drg_p33_rf = -0.2
+drshg_p33_rf = -2.534
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_ckt_rf

* 1.8v pmos with psub as 5th terminal(FF corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p33_5t_ckt_rf 1 2 3 4 5 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1  arnw=180.37e-12 pjnw=59.44e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'
*p33_ckt(FF corner)
*p33_ckt(FF corner)
+dtoxe_p33_rf= -7.5531E-11    dxl_p33_rf = -5.0E-9        
+dxw_p33_rf = 9.1E-9          dcjs_p33_rf= -5.22E-5        dcjsws_p33_rf= -4.285E-12   
+dcjswgs_p33_rf= -1.2111E-11  dcgdo_p33_rf= 5.0E-12        dcgso_p33_rf= 5.0E-12       
+dcgdl_p33_rf= 1.26E-11       dcgsl_p33_rf= 1.26E-11       dcf_p33_rf = 1.525E-12      
+dvth0_p33_rf= 0.054786       dlvth0_p33_rf= 1.1949E-9     dwvth0_p33_rf= 3.7507E-9    
+dpvth0_p33_rf= 1.0598E-15    du0_p33_rf = 0.000555257     dlu0_p33_rf= 5.446E-11      
+dwu0_p33_rf= 1.0488E-10      dpu0_p33_rf= -1.4E-17        dvsat_p33_rf= 0             
+dlvsat_p33_rf= 0.000937728   dwvsat_p33_rf= 0             dpvsat_p33_rf= 3.9E-11      
+dagidl_p33_rf= 0             dlagidl_p33_rf= 4.7142E-18   dwagidl_p33_rf= 2.0E-18     
+dpagidl_p33_rf= 1.0E-24      

+dcgdext_p33_rf = 0.05
+dcgsext_p33_rf = 0.05
+drg_p33_rf = -0.2
+drshg_p33_rf = -2.534
+dcj_nwdio_rf	=	-0.00000655
+dcjp_nwdio_rf	=	-2.50235E-11
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131+dcj_nwdio_rf'        cjp     = '5.0047e-010+dcjp_nwdio_rf'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_5t_ckt_rf


.endl ff


.lib ss
.option gmindc=1e-14
.param

+sigma_mis_a_rf=agauss(0,1,1)
+sigma_mis_b_rf=agauss(0,1,1)
+sigma_mis_c_rf=agauss(0,1,1)
+sigma_mis_d_rf=agauss(0,1,1)
+sigma_mis_e_rf=agauss(0,1,1)
+sigma_mis_f_rf=agauss(0,1,1)
+sigma_mis_g_rf=agauss(0,1,1)
+sigma_mis_h_rf=agauss(0,1,1)

* 1.8v nmos (SS corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '4.6e-11+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '0.0376+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '-9.4E-4+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (ss corner)
+dtoxe_n18_rf      = 4.6e-11      dxl_n18_rf       = 5e-9         dxw_n18_rf       = -9.1e-9 
+dcj_n18_rf       = 4.94e-5      dcjsw_n18_rf     = 2.91e-12     dcjswg_n18_rf    = 1.85e-11 
+dcgdo_n18_rf     = -9e-12       dcgdl_n18_rf     = -4.5e-12     dcf_n18_rf       = -4.27e-12
+dvth0_n18_rf      = 0.0376       dlvth0_n18_rf     = 2.82e-9      dpvth0_n18_rf     = 1.16E-15            
+du0_n18_rf       = -9.4E-4      dlu0_n18_rf      = -1.2e-10     dpu0_n18_rf      = -4.2e-17  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = -1.08e-3     dpvsat_n18_rf    = -1.4E-10            
+dvoff_n18_rf     = 0.0          dwvth0_n18_rf     = 5.7E-9       dwu0_n18_rf      = -1.8E-10  
+dcgdext_n18_rf = -0.05
+dcgsext_n18_rf = -0.05
+drg_n18_rf = 0.2
+drshg_n18_rf = 3.171
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n18_ckt_rf


* 1.8v nmos in dnw with 4 ports(SS corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '4.6e-11+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '0.0376+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '-9.4E-4+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (ss corner)
+dtoxe_n18_rf      = 4.6e-11      dxl_n18_rf       = 5e-9         dxw_n18_rf       = -9.1e-9 
+dcj_n18_rf       = 4.94e-5      dcjsw_n18_rf     = 2.91e-12     dcjswg_n18_rf    = 1.85e-11 
+dcgdo_n18_rf     = -9e-12       dcgdl_n18_rf     = -4.5e-12     dcf_n18_rf       = -4.27e-12
+dvth0_n18_rf      = 0.0376       dlvth0_n18_rf     = 2.82e-9      dpvth0_n18_rf     = 1.16E-15            
+du0_n18_rf       = -9.4E-4      dlu0_n18_rf      = -1.2e-10     dpu0_n18_rf      = -4.2e-17  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = -1.08e-3     dpvsat_n18_rf    = -1.4E-10            
+dvoff_n18_rf     = 0.0          dwvth0_n18_rf     = 5.7E-9       dwu0_n18_rf      = -1.8E-10  
+dcgdext_n18_rf = -0.05
+dcgsext_n18_rf = -0.05
+drg_n18_rf = 0.2
+drshg_n18_rf = 3.171
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_ckt_rf


* 1.8v nmos in dnw with 6 ports(SS corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw18_6t_ckt_rf 1 2 3 4 5 6 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '4.6e-11+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '0.0376+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '-9.4E-4+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (ss corner)
+dtoxe_n18_rf      = 4.6e-11      dxl_n18_rf       = 5e-9         dxw_n18_rf       = -9.1e-9 
+dcj_n18_rf       = 4.94e-5      dcjsw_n18_rf     = 2.91e-12     dcjswg_n18_rf    = 1.85e-11 
+dcgdo_n18_rf     = -9e-12       dcgdl_n18_rf     = -4.5e-12     dcf_n18_rf       = -4.27e-12
+dvth0_n18_rf      = 0.0376       dlvth0_n18_rf     = 2.82e-9      dpvth0_n18_rf     = 1.16E-15            
+du0_n18_rf       = -9.4E-4      dlu0_n18_rf      = -1.2e-10     dpu0_n18_rf      = -4.2e-17  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = -1.08e-3     dpvsat_n18_rf    = -1.4E-10            
+dvoff_n18_rf     = 0.0          dwvth0_n18_rf     = 5.7E-9       dwu0_n18_rf      = -1.8E-10  
+dcgdext_n18_rf = -0.05
+dcgsext_n18_rf = -0.05
+drg_n18_rf = 0.2
+drshg_n18_rf = 3.171
*diobpw(ss corner)
+dcj_diobpw_rf = 2.493e-05        
+dcjsw_diobpw_rf = 1.993e-11
*dnwdio(ss corner)
+dcj_dnwdio_rf          = 6.9121e-6       
+dcjsw_dnwdio_rf          = 3.3683e-11
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level    = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_6t_ckt_rf

* 1.8v pmos (ss corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p18_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis     = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis     = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis     = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis     = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis     = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '4.6e-11+dtoxe_p18_mis'               
+dvth0_p18_mismatch_rf         = '-0.048+dvth0_p18_mis'  
+du0_p18_mismatch_rf           = '-0.0001+du0_p18_mis'               
+dvoff_p18_mismatch_rf         = '0.007+dvoff_p18_mis'  
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis' 
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (ss corner)
+dtoxe_p18_rf     = 4.6e-11       dxl_p18_rf       = 5e-9           dxw_p18_rf       = -9.1e-9 
+dcj_p18_rf       = 5.528E-05     dcjsw_p18_rf     = 4.3704e-12     dcjswg_p18_rf    = 2.11e-11
+dcgdo_p18_rf     = -1.05e-11     dcgdl_p18_rf     = -8.8e-12       dcf_p18_rf       = -4.25e-12
+dvth0_p18_rf     = -0.048        dlvth0_p18_rf    = -3.6e-009      dpvth0_p18_rf    = -5e-016            
+du0_p18_rf       = -0.0001       dlu0_p18_rf      = -4e-011        dpu0_p18_rf      = -3e-017  
+dvsat_p18_rf     = 0             dlvsat_p18_rf    = 0              dpvsat_p18_rf    = 0            
+dvoff_p18_rf     = 0.007         dwvth0_p18_rf    = -3e-009        dwu0_p18_rf      = -9e-011  
+dlpe0_p18_rf     = 0             dminv_p18_rf     = 0              dlminv_p18_rf    = 5e-008           
+dcj_pdio18_rf = 0.05
+dcjp_pdio18_rf = 0.05
+dcgdext_p18_rf = -0.05
+dcgsext_p18_rf = -0.05
+drg_p18_rf = 0.2
+drshg_p18_rf = 2.534
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_ckt_rf

* 1.8v pmos with psub as 5th terminal(ss corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p18_5t_ckt_rf 1 2 3 4 5 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arnw=1e-12 pjnw=4e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis     = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis     = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis     = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis     = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis     = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '4.6e-11+dtoxe_p18_mis'               
+dvth0_p18_mismatch_rf         = '-0.048+dvth0_p18_mis'  
+du0_p18_mismatch_rf           = '-0.0001+du0_p18_mis'               
+dvoff_p18_mismatch_rf         = '0.007+dvoff_p18_mis'  
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis' 
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (ss corner)
+dtoxe_p18_rf     = 4.6e-11       dxl_p18_rf       = 5e-9           dxw_p18_rf       = -9.1e-9 
+dcj_p18_rf       = 5.528E-05     dcjsw_p18_rf     = 4.3704e-12     dcjswg_p18_rf    = 2.11e-11
+dcgdo_p18_rf     = -1.05e-11     dcgdl_p18_rf     = -8.8e-12       dcf_p18_rf       = -4.25e-12
+dvth0_p18_rf     = -0.048        dlvth0_p18_rf    = -3.6e-009      dpvth0_p18_rf    = -5e-016            
+du0_p18_rf       = -0.0001       dlu0_p18_rf      = -4e-011        dpu0_p18_rf      = -3e-017  
+dvsat_p18_rf     = 0             dlvsat_p18_rf    = 0              dpvsat_p18_rf    = 0            
+dvoff_p18_rf     = 0.007         dwvth0_p18_rf    = -3e-009        dwu0_p18_rf      = -9e-011  
+dlpe0_p18_rf     = 0             dminv_p18_rf     = 0              dlminv_p18_rf    = 5e-008           
+dcj_pdio18_rf = 0.05
+dcjp_pdio18_rf = 0.05
+dcgdext_p18_rf = -0.05
+dcgsext_p18_rf = -0.05
+drg_p18_rf = 0.2
+drshg_p18_rf = 2.534
+dcj_nwdio_rf = 0.05
+dcjp_nwdio_rf = 0.05  
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16
*
.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131*(1+dcj_nwdio_rf)'        cjp     = '5.0047e-010*(1+dcjp_nwdio_rf)'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
*

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_5t_ckt_rf

* 3.3v nmos (SS corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (ss corner)
+dtoxe_n33_rf= 7.5531E-11     dxl_n33_rf = 5.0E-9         
+dxw_n33_rf = -9.1E-9         dcjs_n33_rf= 4.3049E-5       dcjsws_n33_rf= 4.8385E-12   
+dcjswgs_n33_rf= 1.4141E-11   dcgdo_n33_rf= -5.0E-12       dcgdl_n33_rf= -1.3E-11      
+dcgso_n33_rf= -5.0E-12       dcgsl_n33_rf= -1.3E-11       dcf_n33_rf = -3.775E-12     
+dvth0_n33_rf= 0.0541800      dlvth0_n33_rf= 8.24684e-09   dwvth0_n33_rf= 7.5304E-9    
+dpvth0_n33_rf= -9.8883E-16   du0_n33_rf = -0.00228040     dlu0_n33_rf= -1.01153e-11   
+dwu0_n33_rf= -6.1322E-11     dpu0_n33_rf= -2.087E-16      dvsat_n33_rf= 0             
+dlvsat_n33_rf= -0.00140715   dwvsat_n33_rf= 0             dpvsat_n33_rf= -4.0E-10     
+djtsswgs_n33_rf= -1.5E-9     djtsswgd_n33_rf= -1.5E-9     dlagidl_n33_rf= 0           
+dpagidl_n33_rf= 0        
+dcgdext_n33_rf = -0.05
+dcgsext_n33_rf = -0.05
+drg_n33_rf = 0.2
+drshg_n33_rf = 3.171 

*ndio33(ss corner)
+djs_ndio33_rf = -1.257e-07
+dn_ndio33_rf = 1.030e-02
+djsw_ndio33_rf = -1.975e-13
+dcj_ndio33_rf = 4.305e-05
+dcjsw_ndio33_rf = 4.839e-12
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n33_ckt_rf


* 3.3v nmos in dnw with 4 ports(SS corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (ss corner)
+dtoxe_n33_rf= 7.5531E-11     dxl_n33_rf = 5.0E-9         
+dxw_n33_rf = -9.1E-9         dcjs_n33_rf= 4.3049E-5       dcjsws_n33_rf= 4.8385E-12   
+dcjswgs_n33_rf= 1.4141E-11   dcgdo_n33_rf= -5.0E-12       dcgdl_n33_rf= -1.3E-11      
+dcgso_n33_rf= -5.0E-12       dcgsl_n33_rf= -1.3E-11       dcf_n33_rf = -3.775E-12     
+dvth0_n33_rf= 0.0541800      dlvth0_n33_rf= 8.24684e-09   dwvth0_n33_rf= 7.5304E-9    
+dpvth0_n33_rf= -9.8883E-16   du0_n33_rf = -0.00228040     dlu0_n33_rf= -1.01153e-11   
+dwu0_n33_rf= -6.1322E-11     dpu0_n33_rf= -2.087E-16      dvsat_n33_rf= 0             
+dlvsat_n33_rf= -0.00140715   dwvsat_n33_rf= 0             dpvsat_n33_rf= -4.0E-10     
+djtsswgs_n33_rf= -1.5E-9     djtsswgd_n33_rf= -1.5E-9     dlagidl_n33_rf= 0           
+dpagidl_n33_rf= 0        
+dcgdext_n33_rf = -0.05
+dcgsext_n33_rf = -0.05
+drg_n33_rf = 0.2
+drshg_n33_rf = 3.171 

*ndio33(ss corner)
+djs_ndio33_rf = -1.257e-07
+dn_ndio33_rf = 1.030e-02
+djsw_ndio33_rf = -1.975e-13
+dcj_ndio33_rf = 4.305e-05
+dcjsw_ndio33_rf = 4.839e-12
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_ckt_rf

* 3.3v nmos in dnw with 6 ports(SS corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw33_6t_ckt_rf 1 2 3 4 5 6 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (ss corner)
+dtoxe_n33_rf= 7.5531E-11     dxl_n33_rf = 5.0E-9         
+dxw_n33_rf = -9.1E-9         dcjs_n33_rf= 4.3049E-5       dcjsws_n33_rf= 4.8385E-12   
+dcjswgs_n33_rf= 1.4141E-11   dcgdo_n33_rf= -5.0E-12       dcgdl_n33_rf= -1.3E-11      
+dcgso_n33_rf= -5.0E-12       dcgsl_n33_rf= -1.3E-11       dcf_n33_rf = -3.775E-12     
+dvth0_n33_rf= 0.0541800      dlvth0_n33_rf= 8.24684e-09   dwvth0_n33_rf= 7.5304E-9    
+dpvth0_n33_rf= -9.8883E-16   du0_n33_rf = -0.00228040     dlu0_n33_rf= -1.01153e-11   
+dwu0_n33_rf= -6.1322E-11     dpu0_n33_rf= -2.087E-16      dvsat_n33_rf= 0             
+dlvsat_n33_rf= -0.00140715   dwvsat_n33_rf= 0             dpvsat_n33_rf= -4.0E-10     
+djtsswgs_n33_rf= -1.5E-9     djtsswgd_n33_rf= -1.5E-9     dlagidl_n33_rf= 0           
+dpagidl_n33_rf= 0        
+dcgdext_n33_rf = -0.05
+dcgsext_n33_rf = -0.05
+drg_n33_rf = 0.2
+drshg_n33_rf = 3.171 

*ndio33(ss corner)
+djs_ndio33_rf = -1.257e-07
+dn_ndio33_rf = 1.030e-02
+djsw_ndio33_rf = -1.975e-13
+dcj_ndio33_rf = 4.305e-05
+dcjsw_ndio33_rf = 4.839e-12

*diobpw_rf(ss corner)
+djs_diobpw_rf = -3.116e-07       dn_diobpw_rf = 1.123e-02                djsw_diobpw_rf = -7.018e-14
+dcj_diobpw_rf = 2.493e-05        dcjsw_diobpw_rf = 1.993e-11

*dnwdio_rf(ss corner)
+djs_dnwdio_rf          = -3.045e-7       djsw_dnwdio_rf           = -5.5e-16        dn_dnwdio_rf           = 9.79e-3
+dcj_dnwdio_rf          = 6.9121e-6       dcjsw_dnwdio_rf          = 3.3683e-11

+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'

***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
***
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0
***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level   = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_6t_ckt_rf


* 3.3v pmos (SS corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p33_ckt_rf 1 2 3 4 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'

*p33_ckt(SS corner)
+dtoxe_p33_rf= 7.5531E-11     dxl_p33_rf = 5.0E-9         
+dxw_p33_rf = -9.1E-9         dcjs_p33_rf= 5.22E-5         dcjsws_p33_rf= 4.285E-12    
+dcjswgs_p33_rf= 1.2111E-11   dcgdo_p33_rf= -5.0E-12       dcgso_p33_rf= -5.0E-12      
+dcgdl_p33_rf= -1.26E-11      dcgsl_p33_rf= -1.26E-11      dcf_p33_rf = -1.525E-12     
+dvth0_p33_rf= -0.053996      dlvth0_p33_rf= -1.2638E-9    dwvth0_p33_rf= -2.98195e-09 
+dpvth0_p33_rf= -1.0536E-15   du0_p33_rf = -0.000789505    dlu0_p33_rf= -6.4478E-11    
+dwu0_p33_rf= -1.07834e-10    dpu0_p33_rf= 2.13E-17        dvsat_p33_rf= 0             
+dlvsat_p33_rf= -0.0013335    dwvsat_p33_rf= 0             dpvsat_p33_rf= -1.961E-10   
+dagidl_p33_rf= -2.788E-13    dlagidl_p33_rf= -3.0E-19     dwagidl_p33_rf= -5.85E-19   
+dpagidl_p33_rf= 9.0E-26      

+dcgdext_p33_rf = -0.05
+dcgsext_p33_rf = -0.05
+drg_p33_rf = 0.2
+drshg_p33_rf = 2.534
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_ckt_rf

* 1.8v pmos with psub as 5th terminal(SS corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p33_5t_ckt_rf 1 2 3 4 5 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1  arnw=180.37e-12 pjnw=59.44e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'

*p33_ckt(SS corner)
+dtoxe_p33_rf= 7.5531E-11     dxl_p33_rf = 5.0E-9         
+dxw_p33_rf = -9.1E-9         dcjs_p33_rf= 5.22E-5         dcjsws_p33_rf= 4.285E-12    
+dcjswgs_p33_rf= 1.2111E-11   dcgdo_p33_rf= -5.0E-12       dcgso_p33_rf= -5.0E-12      
+dcgdl_p33_rf= -1.26E-11      dcgsl_p33_rf= -1.26E-11      dcf_p33_rf = -1.525E-12     
+dvth0_p33_rf= -0.053996      dlvth0_p33_rf= -1.2638E-9    dwvth0_p33_rf= -2.98195e-09 
+dpvth0_p33_rf= -1.0536E-15   du0_p33_rf = -0.000789505    dlu0_p33_rf= -6.4478E-11    
+dwu0_p33_rf= -1.07834e-10    dpu0_p33_rf= 2.13E-17        dvsat_p33_rf= 0             
+dlvsat_p33_rf= -0.0013335    dwvsat_p33_rf= 0             dpvsat_p33_rf= -1.961E-10   
+dagidl_p33_rf= -2.788E-13    dlagidl_p33_rf= -3.0E-19     dwagidl_p33_rf= -5.85E-19   
+dpagidl_p33_rf= 9.0E-26      

+dcgdext_p33_rf = -0.05
+dcgsext_p33_rf = -0.05
+drg_p33_rf = 0.2
+drshg_p33_rf = 2.534
*nwdio(ss corner)
+dcj_nwdio_rf	=	0.00000655
+dcjp_nwdio_rf	=	2.50235E-11
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131+dcj_nwdio_rf'        cjp     = '5.0047e-010+dcjp_nwdio_rf'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_5t_ckt_rf


.endl ss


.lib fnsp
.option gmindc=1e-14
.param

+sigma_mis_a_rf=agauss(0,1,1)
+sigma_mis_b_rf=agauss(0,1,1)
+sigma_mis_c_rf=agauss(0,1,1)
+sigma_mis_d_rf=agauss(0,1,1)
+sigma_mis_e_rf=agauss(0,1,1)
+sigma_mis_f_rf=agauss(0,1,1)
+sigma_mis_g_rf=agauss(0,1,1)
+sigma_mis_h_rf=agauss(0,1,1)


* 1.8v nmos (FS corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '0+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '-0.028+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '8.5E-4+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (fnsp corner)
+dtoxe_n18_rf      = 0            dxl_n18_rf       = 0            dxw_n18_rf       = 0 
+dcj_n18_rf       = -3.95e-5     dcjsw_n18_rf     = -2.33e-12    dcjswg_n18_rf    = -1.48e-11
+dcgdo_n18_rf     = 0            dcgdl_n18_rf     = 0            dcf_n18_rf       =0
+dvth0_n18_rf      = -0.028       dlvth0_n18_rf     = -2.0e-9      dpvth0_n18_rf     = -1.054E-15            
+du0_n18_rf       = 8.5E-4       dlu0_n18_rf      = 1.02e-10     dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = 7.7e-4       dpvsat_n18_rf    = 4E-11            
+dvoff_n18_rf     = -0.0085      dwvth0_n18_rf     = -5.5E-9      dwu0_n18_rf      = 0  
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n18_ckt_rf


* 1.8v nmos in dnw with 4 ports(FS corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '0+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '-0.028+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '8.5E-4+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (fnsp corner)
+dtoxe_n18_rf      = 0            dxl_n18_rf       = 0            dxw_n18_rf       = 0 
+dcj_n18_rf       = -3.95e-5     dcjsw_n18_rf     = -2.33e-12    dcjswg_n18_rf    = -1.48e-11
+dcgdo_n18_rf     = 0            dcgdl_n18_rf     = 0            dcf_n18_rf       =0
+dvth0_n18_rf      = -0.028       dlvth0_n18_rf     = -2.0e-9      dpvth0_n18_rf     = -1.054E-15            
+du0_n18_rf       = 8.5E-4       dlu0_n18_rf      = 1.02e-10     dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = 7.7e-4       dpvsat_n18_rf    = 4E-11            
+dvoff_n18_rf     = -0.0085      dwvth0_n18_rf     = -5.5E-9      dwu0_n18_rf      = 0  
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_ckt_rf


* 1.8v nmos in dnw with 6 ports(FS corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw18_6t_ckt_rf 1 2 3 4 5 6 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '0+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '-0.028+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '8.5E-4+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (fnsp corner)
+dtoxe_n18_rf      = 0            dxl_n18_rf       = 0            dxw_n18_rf       = 0 
+dcj_n18_rf       = -3.95e-5     dcjsw_n18_rf     = -2.33e-12    dcjswg_n18_rf    = -1.48e-11
+dcgdo_n18_rf     = 0            dcgdl_n18_rf     = 0            dcf_n18_rf       =0
+dvth0_n18_rf      = -0.028       dlvth0_n18_rf     = -2.0e-9      dpvth0_n18_rf     = -1.054E-15            
+du0_n18_rf       = 8.5E-4       dlu0_n18_rf      = 1.02e-10     dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = 7.7e-4       dpvsat_n18_rf    = 4E-11            
+dvoff_n18_rf     = -0.0085      dwvth0_n18_rf     = -5.5E-9      dwu0_n18_rf      = 0  
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0
*diobpw(FS corner)
+dcj_diobpw_rf = 0      
+dcjsw_diobpw_rf = 0
*dnwdio(FS corner)
+dcj_dnwdio_rf          = 0    
+dcjsw_dnwdio_rf          = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level    = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_6t_ckt_rf

* 1.8v pmos (fnsp corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p18_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis     = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis     = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis     = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis     = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis     = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '0+dtoxe_p18_mis'               
+dvth0_p18_mismatch_rf         = '-3.84e-02+dvth0_p18_mis'  
+du0_p18_mismatch_rf           = '-8.00e-05+du0_p18_mis'               
+dvoff_p18_mismatch_rf         = '5.60e-03+dvoff_p18_mis'  
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis' 
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (fnsp corner)
+dtoxe_p18_rf     = 0                dxl_p18_rf       = 0                dxw_p18_rf       = 0 
+dcj_p18_rf       = 4.4224e-05       dcjsw_p18_rf     = 3.49632e-12      dcjswg_p18_rf    = 1.688e-11
+dcgdo_p18_rf     = 0                dcgdl_p18_rf     = 0                dcf_p18_rf       = 0
+dvth0_p18_rf     = -3.84E-02        dlvth0_p18_rf    = -2.88E-09        dpvth0_p18_rf    = -4.00E-16  
+du0_p18_rf       = -8.00E-05        dlu0_p18_rf      = 0                dpu0_p18_rf      = -2.40E-17  
+dvsat_p18_rf     = 0                dlvsat_p18_rf    = 0                dpvsat_p18_rf    = 0     
+dvoff_p18_rf     = 5.60E-03         dwvth0_p18_rf    = -2.40E-09        dwu0_p18_rf      = -7.20E-11
+dlpe0_p18_rf     = 0                dminv_p18_rf     = 0                dlminv_p18_rf    = 4.00E-08              
+dcj_pdio18_rf = 0.05
+dcjp_pdio18_rf = 0.05
+dcgdext_p18_rf = 0
+dcgsext_p18_rf = 0
+drg_p18_rf = 0
+drshg_p18_rf = 0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_ckt_rf

* 1.8v pmos with psub as 5th terminal(fnsp corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p18_5t_ckt_rf 1 2 3 4 5 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arnw=1e-12 pjnw=4e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis     = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis     = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis     = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis     = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis     = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '0+dtoxe_p18_mis'               
+dvth0_p18_mismatch_rf         = '-3.84e-02+dvth0_p18_mis'  
+du0_p18_mismatch_rf           = '-8.00e-05+du0_p18_mis'               
+dvoff_p18_mismatch_rf         = '5.60e-03+dvoff_p18_mis'  
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis' 
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (fnsp corner)
+dtoxe_p18_rf     = 0                dxl_p18_rf       = 0                dxw_p18_rf       = 0 
+dcj_p18_rf       = 4.4224e-05       dcjsw_p18_rf     = 3.49632e-12      dcjswg_p18_rf    = 1.688e-11
+dcgdo_p18_rf     = 0                dcgdl_p18_rf     = 0                dcf_p18_rf       = 0
+dvth0_p18_rf     = -3.84E-02        dlvth0_p18_rf    = -2.88E-09        dpvth0_p18_rf    = -4.00E-16  
+du0_p18_rf       = -8.00E-05        dlu0_p18_rf      = 0                dpu0_p18_rf      = -2.40E-17  
+dvsat_p18_rf     = 0                dlvsat_p18_rf    = 0                dpvsat_p18_rf    = 0     
+dvoff_p18_rf     = 5.60E-03         dwvth0_p18_rf    = -2.40E-09        dwu0_p18_rf      = -7.20E-11
+dlpe0_p18_rf     = 0                dminv_p18_rf     = 0                dlminv_p18_rf    = 4.00E-08  
+dcj_pdio18_rf = 0.05
+dcjp_pdio18_rf = 0.05
+dcgdext_p18_rf = 0
+dcgsext_p18_rf = 0
+drg_p18_rf = 0
+drshg_p18_rf = 0
+dcj_nwdio_rf = 0.05
+dcjp_nwdio_rf = 0.05  
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16
*
.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131*(1+dcj_nwdio_rf)'        cjp     = '5.0047e-010*(1+dcjp_nwdio_rf)'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
*

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_5t_ckt_rf


* 3.3v nmos (FNSP corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (fnsp corner)
+dtoxe_n33_rf= 0              dxl_n33_rf = 0               dxw_n33_rf = 0              
+dcjs_n33_rf= -4.3049E-5      dcjsws_n33_rf= -4.8385E-12   dcjswgs_n33_rf= -1.4141E-11   
+dcgdo_n33_rf= 0              dcgdl_n33_rf= 0              dcgso_n33_rf= 0             
+dcgsl_n33_rf= 0              dcf_n33_rf = 0               dvth0_n33_rf= -0.03878441    
+dlvth0_n33_rf= -5.35836E-9   dwvth0_n33_rf= -5.9906E-9   dpvth0_n33_rf= 7.1379E-16   
+du0_n33_rf = 1.27078E-3      dlu0_n33_rf= 7.4851E-11      dwu0_n33_rf= -6.60401e-11   
+dpu0_n33_rf= 1.8144E-16      dvsat_n33_rf= 0              dlvsat_n33_rf= 7.4655e-4   
+dwvsat_n33_rf= 0             dpvsat_n33_rf= 2.1E-10       djtsswgs_n33_rf= 5.7568E-9  
+djtsswgd_n33_rf= 5.7568E-9   dlagidl_n33_rf= 1.17782e-14  dpagidl_n33_rf= 3.90096e-21 
+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(fnsp corner)
+dcj_ndio33_rf = -4.3049E-5
+dcjsw_ndio33_rf = -4.8385E-12
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n33_ckt_rf

* 3.3v nmos in dnw with 4 ports (FNSP corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (fnsp corner)
+dtoxe_n33_rf= 0              dxl_n33_rf = 0               dxw_n33_rf = 0              
+dcjs_n33_rf= -4.3049E-5      dcjsws_n33_rf= -4.8385E-12   dcjswgs_n33_rf= -1.4141E-11   
+dcgdo_n33_rf= 0              dcgdl_n33_rf= 0              dcgso_n33_rf= 0             
+dcgsl_n33_rf= 0              dcf_n33_rf = 0               dvth0_n33_rf= -0.03878441    
+dlvth0_n33_rf= -5.35836E-9   dwvth0_n33_rf= -5.9906E-9   dpvth0_n33_rf= 7.1379E-16   
+du0_n33_rf = 1.27078E-3      dlu0_n33_rf= 7.4851E-11      dwu0_n33_rf= -6.60401e-11   
+dpu0_n33_rf= 1.8144E-16      dvsat_n33_rf= 0              dlvsat_n33_rf= 7.4655e-4   
+dwvsat_n33_rf= 0             dpvsat_n33_rf= 2.1E-10       djtsswgs_n33_rf= 5.7568E-9  
+djtsswgd_n33_rf= 5.7568E-9   dlagidl_n33_rf= 1.17782e-14  dpagidl_n33_rf= 3.90096e-21 
+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(fnsp corner)
+dcj_ndio33_rf = -4.3049E-5
+dcjsw_ndio33_rf = -4.8385E-12
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_ckt_rf


* 3.3v nmos in dnw with 6 ports(FNSP corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw33_6t_ckt_rf 1 2 3 4 5 6 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (fnsp corner)
+dtoxe_n33_rf= 0              dxl_n33_rf = 0               dxw_n33_rf = 0              
+dcjs_n33_rf= -4.3049E-5      dcjsws_n33_rf= -4.8385E-12   dcjswgs_n33_rf= -1.4141E-11   
+dcgdo_n33_rf= 0              dcgdl_n33_rf= 0              dcgso_n33_rf= 0             
+dcgsl_n33_rf= 0              dcf_n33_rf = 0               dvth0_n33_rf= -0.03878441    
+dlvth0_n33_rf= -5.35836E-9   dwvth0_n33_rf= -5.9906E-9   dpvth0_n33_rf= 7.1379E-16   
+du0_n33_rf = 1.27078E-3      dlu0_n33_rf= 7.4851E-11      dwu0_n33_rf= -6.60401e-11   
+dpu0_n33_rf= 1.8144E-16      dvsat_n33_rf= 0              dlvsat_n33_rf= 7.4655e-4   
+dwvsat_n33_rf= 0             dpvsat_n33_rf= 2.1E-10       djtsswgs_n33_rf= 5.7568E-9  
+djtsswgd_n33_rf= 5.7568E-9   dlagidl_n33_rf= 1.17782e-14  dpagidl_n33_rf= 3.90096e-21 
+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(fnsp corner)
+dcj_ndio33_rf = -4.3049E-5
+dcjsw_ndio33_rf = -4.8385E-12
*diobpw_rf(fnsp corner)
+dcj_diobpw_rf   = 0           
+dcjsw_diobpw_rf = 0
*dnwdio_rf(fnsp corner)
+dcj_dnwdio_rf   = 0           
+dcjsw_dnwdio_rf = 0

+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
***
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0
***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level   = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_6t_ckt_rf


* 3.3v pmos (FS corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p33_ckt_rf 1 2 3 4 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'

*p33_ckt(FNSP corner)
+dtoxe_p33_rf= 0              dxl_p33_rf = 0               dxw_p33_rf = 0              
+dcjs_p33_rf= 5.22E-5         dcjsws_p33_rf= 4.29E-12      dcjswgs_p33_rf= 1.2111E-11    
+dcgdo_p33_rf= 0              dcgso_p33_rf= 0              dcgdl_p33_rf= 0             
+dcgsl_p33_rf= 0              dcf_p33_rf = 0               dvth0_p33_rf= -0.0377972    
+dlvth0_p33_rf= -8.8466E-10   dwvth0_p33_rf= -2.087365E-9   dpvth0_p33_rf= -7.3752E-16  
+du0_p33_rf = -5.526535E-4     dlu0_p33_rf= -4.51346e-11    dwu0_p33_rf= -7.54838E-11   
+dpu0_p33_rf= 1.491E-17       dvsat_p33_rf= 0              dlvsat_p33_rf= -9.3345E-4   
+dwvsat_p33_rf= 0             dpvsat_p33_rf= -1.3727E-10   dagidl_p33_rf= -1.9516E-13  
+dlagidl_p33_rf= -2.1E-19     dwagidl_p33_rf= -4.095E-19   dpagidl_p33_rf= 6.3E-26     

+dcgdext_p33_rf = 0
+dcgsext_p33_rf = 0
+drg_p33_rf = 0
+drshg_p33_rf = 0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_ckt_rf

* 1.8v pmos with psub as 5th terminal(FS corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p33_5t_ckt_rf 1 2 3 4 5 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1  arnw=180.37e-12 pjnw=59.44e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'

*p33_ckt(FNSP corner)
+dtoxe_p33_rf= 0              dxl_p33_rf = 0               dxw_p33_rf = 0              
+dcjs_p33_rf= 5.22E-5         dcjsws_p33_rf= 4.29E-12      dcjswgs_p33_rf= 1.2111E-11    
+dcgdo_p33_rf= 0              dcgso_p33_rf= 0              dcgdl_p33_rf= 0             
+dcgsl_p33_rf= 0              dcf_p33_rf = 0               dvth0_p33_rf= -0.0377972    
+dlvth0_p33_rf= -8.8466E-10   dwvth0_p33_rf= -2.087365E-9   dpvth0_p33_rf= -7.3752E-16  
+du0_p33_rf = -5.526535E-4     dlu0_p33_rf= -4.51346e-11    dwu0_p33_rf= -7.54838E-11   
+dpu0_p33_rf= 1.491E-17       dvsat_p33_rf= 0              dlvsat_p33_rf= -9.3345E-4   
+dwvsat_p33_rf= 0             dpvsat_p33_rf= -1.3727E-10   dagidl_p33_rf= -1.9516E-13  
+dlagidl_p33_rf= -2.1E-19     dwagidl_p33_rf= -4.095E-19   dpagidl_p33_rf= 6.3E-26     

+dcgdext_p33_rf = 0
+dcgsext_p33_rf = 0
+drg_p33_rf = 0
+drshg_p33_rf = 0
*nwdio(FS corner)
+dcj_nwdio_rf	=	0
+dcjp_nwdio_rf	=	0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131+dcj_nwdio_rf'        cjp     = '5.0047e-010+dcjp_nwdio_rf'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_5t_ckt_rf


.endl fnsp


.lib snfp
.option gmindc=1e-14
.param

+sigma_mis_a_rf=agauss(0,1,1)
+sigma_mis_b_rf=agauss(0,1,1)
+sigma_mis_c_rf=agauss(0,1,1)
+sigma_mis_d_rf=agauss(0,1,1)
+sigma_mis_e_rf=agauss(0,1,1)
+sigma_mis_f_rf=agauss(0,1,1)
+sigma_mis_g_rf=agauss(0,1,1)
+sigma_mis_h_rf=agauss(0,1,1)

* 1.8v nmos (SF corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '0+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '0.032+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '-8E-4+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (snfp corner)
+dtoxe_n18_rf      = 0            dxl_n18_rf       = 0            dxw_n18_rf       = 0 
+dcj_n18_rf       = 3.95e-5      dcjsw_n18_rf     = 2.33e-12     dcjswg_n18_rf    = 1.48e-11
+dcgdo_n18_rf     = 0            dcgdl_n18_rf     = 0            dcf_n18_rf       =0
+dvth0_n18_rf      = 0.032        dlvth0_n18_rf     = 2.4e-9       dpvth0_n18_rf     = 9.86E-16            
+du0_n18_rf       = -8E-4        dlu0_n18_rf      = -1.02e-10    dpu0_n18_rf      = -3.57e-17  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = -9.18e-4     dpvsat_n18_rf    = -1.19E-10            
+dvoff_n18_rf     = 0.0          dwvth0_n18_rf     = 4.85E-9      dwu0_n18_rf      = -1.53E-10  
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n18_ckt_rf


* 1.8v nmos in dnw with 4 ports(SF corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '0+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '0.032+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '-8E-4+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (snfp corner)
+dtoxe_n18_rf      = 0            dxl_n18_rf       = 0            dxw_n18_rf       = 0 
+dcj_n18_rf       = 3.95e-5      dcjsw_n18_rf     = 2.33e-12     dcjswg_n18_rf    = 1.48e-11
+dcgdo_n18_rf     = 0            dcgdl_n18_rf     = 0            dcf_n18_rf       =0
+dvth0_n18_rf      = 0.032        dlvth0_n18_rf     = 2.4e-9       dpvth0_n18_rf     = 9.86E-16            
+du0_n18_rf       = -8E-4        dlu0_n18_rf      = -1.02e-10    dpu0_n18_rf      = -3.57e-17  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = -9.18e-4     dpvsat_n18_rf    = -1.19E-10            
+dvoff_n18_rf     = 0.0          dwvth0_n18_rf     = 4.85E-9      dwu0_n18_rf      = -1.53E-10  
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_ckt_rf


* 1.8v nmos in dnw with 6 ports(SF corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw18_6t_ckt_rf 1 2 3 4 5 6 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '0+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '0.032+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '-8E-4+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010
*1.8v core nmos (snfp corner)
+dtoxe_n18_rf      = 0            dxl_n18_rf       = 0            dxw_n18_rf       = 0 
+dcj_n18_rf       = 3.95e-5      dcjsw_n18_rf     = 2.33e-12     dcjswg_n18_rf    = 1.48e-11
+dcgdo_n18_rf     = 0            dcgdl_n18_rf     = 0            dcf_n18_rf       =0
+dvth0_n18_rf      = 0.032        dlvth0_n18_rf     = 2.4e-9       dpvth0_n18_rf     = 9.86E-16            
+du0_n18_rf       = -8E-4        dlu0_n18_rf      = -1.02e-10    dpu0_n18_rf      = -3.57e-17  
+dvsat_n18_rf     = 0            dlvsat_n18_rf    = -9.18e-4     dpvsat_n18_rf    = -1.19E-10            
+dvoff_n18_rf     = 0.0          dwvth0_n18_rf     = 4.85E-9      dwu0_n18_rf      = -1.53E-10  
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0

*diobpw(SF corner)
+dcj_diobpw_rf = 0      
+dcjsw_diobpw_rf = 0
*dnwdio(SF corner)
+dcj_dnwdio_rf          = 0    
+dcjsw_dnwdio_rf          = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level    = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_6t_ckt_rf

* 1.8v pmos (snfp corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p18_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis     = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis     = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis     = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis     = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis     = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '0+dtoxe_p18_mis'               
+dvth0_p18_mismatch_rf         = '4.32e-02+dvth0_p18_mis'  
+du0_p18_mismatch_rf           = '0+du0_p18_mis'               
+dvoff_p18_mismatch_rf         = '-5.60e-03+dvoff_p18_mis'  
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis'  
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (snfp corner)
+dtoxe_p18_rf     = 0             dxl_p18_rf       = 0               dxw_p18_rf       = 0 
+dcj_p18_rf       = -4.4224e-05   dcjsw_p18_rf     = -3.4963e-12     dcjswg_p18_rf    = -1.688e-11
+dcgdo_p18_rf     = 0             dcgdl_p18_rf     = 0               dcf_p18_rf       = 0
+dvth0_p18_rf     = 4.32E-02      dlvth0_p18_rf    = 1.60E-09        dpvth0_p18_rf    = 5.44E-16  
+du0_p18_rf       = 0             dlu0_p18_rf      = 0               dpu0_p18_rf      = 1.28E-17
+dvsat_p18_rf     = 0             dlvsat_p18_rf    = 0               dpvsat_p18_rf    = 0   
+dvoff_p18_rf     = -5.60E-03     dwvth0_p18_rf    = 2.40E-09        dwu0_p18_rf      = 4.00E-11 
+dlpe0_p18_rf     = 0             dminv_p18_rf     = 0               dlminv_p18_rf    = -4.00E-08                    
+dcj_pdio18_rf = -0.05
+dcjp_pdio18_rf = -0.05
+dcgdext_p18_rf = 0
+dcgsext_p18_rf = 0
+drg_p18_rf = 0
+drshg_p18_rf = 0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_ckt_rf

* 1.8v pmos with psub as 5th terminal(snfp corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p18_5t_ckt_rf 1 2 3 4 5 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arnw=1e-12 pjnw=4e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis     = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis     = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis     = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis     = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis     = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '0+dtoxe_p18_mis'               
+dvth0_p18_mismatch_rf         = '4.32e-02+dvth0_p18_mis'  
+du0_p18_mismatch_rf           = '0+du0_p18_mis'               
+dvoff_p18_mismatch_rf         = '-5.60e-03+dvoff_p18_mis'  
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis'  
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (snfp corner)
+dtoxe_p18_rf     = 0             dxl_p18_rf       = 0               dxw_p18_rf       = 0 
+dcj_p18_rf       = -4.4224e-05   dcjsw_p18_rf     = -3.4963e-12     dcjswg_p18_rf    = -1.688e-11
+dcgdo_p18_rf     = 0             dcgdl_p18_rf     = 0               dcf_p18_rf       = 0
+dvth0_p18_rf     = 4.32E-02      dlvth0_p18_rf    = 1.60E-09        dpvth0_p18_rf    = 5.44E-16  
+du0_p18_rf       = 0             dlu0_p18_rf      = 0               dpu0_p18_rf      = 1.28E-17
+dvsat_p18_rf     = 0             dlvsat_p18_rf    = 0               dpvsat_p18_rf    = 0   
+dvoff_p18_rf     = -5.60E-03     dwvth0_p18_rf    = 2.40E-09        dwu0_p18_rf      = 4.00E-11 
+dlpe0_p18_rf     = 0             dminv_p18_rf     = 0               dlminv_p18_rf    = -4.00E-08    
+dcj_pdio18_rf = -0.05
+dcjp_pdio18_rf = -0.05
+dcgdext_p18_rf = 0
+dcgsext_p18_rf = 0
+drg_p18_rf = 0
+drshg_p18_rf = 0
+dcj_nwdio_rf = -0.05
+dcjp_nwdio_rf = -0.05  
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16
*
.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131*(1+dcj_nwdio_rf)'        cjp     = '5.0047e-010*(1+dcjp_nwdio_rf)'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
*

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_5t_ckt_rf

* 3.3v nmos (SNFP corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (snfp corner)
+dtoxe_n33_rf    = 0               dxl_n33_rf        = 0               dxw_n33_rf        = 0              
+dcjs_n33_rf     = 4.3E-5          dcjsws_n33_rf     = 4.84E-12        dcjswgs_n33_rf    = 1.41E-11    
+dcgdo_n33_rf    = 0               dcgdl_n33_rf      = 0               dcgso_n33_rf      = 0             
+dcgsl_n33_rf    = 0               dcf_n33_rf        = 0               dvth0_n33_rf      = 0.037926      
+dlvth0_n33_rf   = 5.772788E-9     dwvth0_n33_rf     = 5.27128E-9      dpvth0_n33_rf     = -6.92181e-16 
+du0_n33_rf      = -1.59628E-3     dlu0_n33_rf       = -7.08071e-11    dwu0_n33_rf       = -4.29254e-11   
+dpu0_n33_rf     = -1.4609E-16     dvsat_n33_rf      = 0               dlvsat_n33_rf     = -9.85005e-4  
+dwvsat_n33_rf   = 0               dpvsat_n33_rf     = -2.8E-10        djtsswgs_n33_rf   = -1.05E-9   
+djtsswgd_n33_rf = -1.05E-9        dlagidl_n33_rf    = 0               dpagidl_n33_rf    = 0
+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(snfp corner)
+dcj_ndio33_rf   = 4.3E-5
+dcjsw_ndio33_rf = 4.84E-12
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n33_ckt_rf

* 3.3v nmos in dnw with 4 ports(SNFP corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (snfp corner)
+dtoxe_n33_rf    = 0               dxl_n33_rf        = 0               dxw_n33_rf        = 0              
+dcjs_n33_rf     = 4.3E-5          dcjsws_n33_rf     = 4.84E-12        dcjswgs_n33_rf    = 1.41E-11    
+dcgdo_n33_rf    = 0               dcgdl_n33_rf      = 0               dcgso_n33_rf      = 0             
+dcgsl_n33_rf    = 0               dcf_n33_rf        = 0               dvth0_n33_rf      = 0.037926      
+dlvth0_n33_rf   = 5.772788E-9     dwvth0_n33_rf     = 5.27128E-9      dpvth0_n33_rf     = -6.92181e-16 
+du0_n33_rf      = -1.59628E-3     dlu0_n33_rf       = -7.08071e-11    dwu0_n33_rf       = -4.29254e-11   
+dpu0_n33_rf     = -1.4609E-16     dvsat_n33_rf      = 0               dlvsat_n33_rf     = -9.85005e-4  
+dwvsat_n33_rf   = 0               dpvsat_n33_rf     = -2.8E-10        djtsswgs_n33_rf   = -1.05E-9   
+djtsswgd_n33_rf = -1.05E-9        dlagidl_n33_rf    = 0               dpagidl_n33_rf    = 0
+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(snfp corner)
+dcj_ndio33_rf   = 4.3E-5
+dcjsw_ndio33_rf = 4.84E-12
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_ckt_rf

* 3.3v nmos in dnw with 6 ports(SNFP corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw33_6t_ckt_rf 1 2 3 4 5 6 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (snfp corner)
+dtoxe_n33_rf    = 0               dxl_n33_rf        = 0               dxw_n33_rf        = 0              
+dcjs_n33_rf     = 4.3E-5          dcjsws_n33_rf     = 4.84E-12        dcjswgs_n33_rf    = 1.41E-11    
+dcgdo_n33_rf    = 0               dcgdl_n33_rf      = 0               dcgso_n33_rf      = 0             
+dcgsl_n33_rf    = 0               dcf_n33_rf        = 0               dvth0_n33_rf      = 0.037926      
+dlvth0_n33_rf   = 5.772788E-9     dwvth0_n33_rf     = 5.27128E-9      dpvth0_n33_rf     = -6.92181e-16 
+du0_n33_rf      = -1.59628E-3     dlu0_n33_rf       = -7.08071e-11    dwu0_n33_rf       = -4.29254e-11   
+dpu0_n33_rf     = -1.4609E-16     dvsat_n33_rf      = 0               dlvsat_n33_rf     = -9.85005e-4  
+dwvsat_n33_rf   = 0               dpvsat_n33_rf     = -2.8E-10        djtsswgs_n33_rf   = -1.05E-9   
+djtsswgd_n33_rf = -1.05E-9        dlagidl_n33_rf    = 0               dpagidl_n33_rf    = 0
+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(snfp corner)
+dcj_ndio33_rf   = 4.3E-5
+dcjsw_ndio33_rf = 4.84E-12
*diobpw_rf(snfp corner)
+djs_diobpw_rf   = 0.00           
+djsw_diobpw_rf  = 0.00          
+dn_diobpw_rf    = 0.00
+dcj_diobpw_rf   = 0.00           
+dcjsw_diobpw_rf = 0.00
*dnwdio_rf(snfp corner)
+djs_dnwdio_rf   = 0.00           
+djsw_dnwdio_rf  = 0.00          
+dn_dnwdio_rf    = 0.00
+dcj_dnwdio_rf   = 0.00           
+dcjsw_dnwdio_rf = 0.00

+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
***
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0
***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level   = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_6t_ckt_rf


* 3.3v pmos (SF corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p33_ckt_rf 1 2 3 4 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'

*p33_ckt(SNFP corner)
+dtoxe_p33_rf= 0              dxl_p33_rf = 0               dxw_p33_rf = 0              
+dcjs_p33_rf= -5.22E-5        dcjsws_p33_rf= -4.29E-12     dcjswgs_p33_rf= -1.2111E-11   
+dcgdo_p33_rf= 0              dcgso_p33_rf= 0              dcgdl_p33_rf= 0             
+dcgsl_p33_rf= 0              dcf_p33_rf = 0               dvth0_p33_rf= 0.0383502     
+dlvth0_p33_rf= 8.3643E-10    dwvth0_p33_rf= 2.62549E-9    dpvth0_p33_rf= 7.4186E-16   
+du0_p33_rf = 3.886799E-4      dlu0_p33_rf= 3.8122E-11      dwu0_p33_rf= 7.3416E-11     
+dpu0_p33_rf= -9.8E-18        dvsat_p33_rf= 0              dlvsat_p33_rf= 6.564096E-4   
+dwvsat_p33_rf= 0             dpvsat_p33_rf= 2.73E-11      dagidl_p33_rf= 0            
+dlagidl_p33_rf= 3.29994e-18  dwagidl_p33_rf= 1.4E-18      dpagidl_p33_rf= 7.0E-25     

+dcgdext_p33_rf = 0
+dcgsext_p33_rf = 0
+drg_p33_rf = 0
+drshg_p33_rf = 0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_ckt_rf

* 1.8v pmos with psub as 5th terminal(SF corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p33_5t_ckt_rf 1 2 3 4 5 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1  arnw=180.37e-12 pjnw=59.44e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'

*p33_ckt(SNFP corner)
+dtoxe_p33_rf= 0              dxl_p33_rf = 0               dxw_p33_rf = 0              
+dcjs_p33_rf= -5.22E-5        dcjsws_p33_rf= -4.29E-12     dcjswgs_p33_rf= -1.2111E-11   
+dcgdo_p33_rf= 0              dcgso_p33_rf= 0              dcgdl_p33_rf= 0             
+dcgsl_p33_rf= 0              dcf_p33_rf = 0               dvth0_p33_rf= 0.0383502     
+dlvth0_p33_rf= 8.3643E-10    dwvth0_p33_rf= 2.62549E-9    dpvth0_p33_rf= 7.4186E-16   
+du0_p33_rf = 3.886799E-4      dlu0_p33_rf= 3.8122E-11      dwu0_p33_rf= 7.3416E-11     
+dpu0_p33_rf= -9.8E-18        dvsat_p33_rf= 0              dlvsat_p33_rf= 6.564096E-4   
+dwvsat_p33_rf= 0             dpvsat_p33_rf= 2.73E-11      dagidl_p33_rf= 0            
+dlagidl_p33_rf= 3.29994e-18  dwagidl_p33_rf= 1.4E-18      dpagidl_p33_rf= 7.0E-25     

+dcgdext_p33_rf = 0
+dcgsext_p33_rf = 0
+drg_p33_rf = 0
+drshg_p33_rf = 0
*nwdio(SF corner)
+dcj_nwdio_rf	=	0
+dcjp_nwdio_rf	=	0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131+dcj_nwdio_rf'        cjp     = '5.0047e-010+dcjp_nwdio_rf'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_5t_ckt_rf


.endl snfp


.lib mos_mc
.option gmindc=1e-14
.param
********************************
** mismatch sub-circuit model
********************************
+sigma_mc_mos_rf       = agauss(0,1,3)
+a_rf                  = sigma_mc_mos_rf
+b_rf                  = sigma_mc_mos_rf
+c_rf                  = sigma_mc_mos_rf

+sigma_mis_a_rf=agauss(0,1,1)
+sigma_mis_b_rf=agauss(0,1,1)
+sigma_mis_c_rf=agauss(0,1,1)
+sigma_mis_d_rf=agauss(0,1,1)
+sigma_mis_e_rf=agauss(0,1,1)
+sigma_mis_f_rf=agauss(0,1,1)
+sigma_mis_g_rf=agauss(0,1,1)
+sigma_mis_h_rf=agauss(0,1,1)

* 1.8v nmos (MC corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '-4.6e-11*a_rf+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '-0.0325*a_rf+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '1E-3*a_rf+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0*a_rf+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010

*1.8v core nmos (mc corner)
+dtoxe_n18_rf      = '-4.6e-11*a_rf'     dxl_n18_rf       = '-5e-9*a_rf'        dxw_n18_rf       = '9.1e-9*a_rf' 
+dcj_n18_rf       = '-4.94e-5*a_rf'     dcjsw_n18_rf     = '-2.91e-12*a_rf'    dcjswg_n18_rf    = '-1.85e-11*a_rf'
+dcgdo_n18_rf     = '9e-12*a_rf'        dcgdl_n18_rf     = '5e-12*a_rf'        dcf_n18_rf       = '4.31e-12*a_rf'
+dvth0_n18_rf      = '-0.0325*a_rf'      dlvth0_n18_rf     = '-2.4e-9*a_rf'      dpvth0_n18_rf     = '-1.24E-15*a_rf'            
+du0_n18_rf       = '1E-3*a_rf'         dlu0_n18_rf      = '1.2e-10*a_rf'      dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0                dlvsat_n18_rf    = '9e-4*a_rf'         dpvsat_n18_rf    = '4E-11*a_rf'            
+dvoff_n18_rf     = '-0.01*a_rf'        dwvth0_n18_rf     = '-6.5E-9*a_rf'        dwu0_n18_rf      = 0  
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n18_ckt_rf


* 1.8v nmos in dnw with 4 ports(MC corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw18_ckt_rf 1 2 3 4 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '-4.6e-11*a_rf+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '-0.0325*a_rf+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '1E-3*a_rf+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0*a_rf+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010

*1.8v core nmos (mc corner)
+dtoxe_n18_rf      = '-4.6e-11*a_rf'     dxl_n18_rf       = '-5e-9*a_rf'        dxw_n18_rf       = '9.1e-9*a_rf' 
+dcj_n18_rf       = '-4.94e-5*a_rf'     dcjsw_n18_rf     = '-2.91e-12*a_rf'    dcjswg_n18_rf    = '-1.85e-11*a_rf'
+dcgdo_n18_rf     = '9e-12*a_rf'        dcgdl_n18_rf     = '5e-12*a_rf'        dcf_n18_rf       = '4.31e-12*a_rf'
+dvth0_n18_rf      = '-0.0325*a_rf'      dlvth0_n18_rf     = '-2.4e-9*a_rf'      dpvth0_n18_rf     = '-1.24E-15*a_rf'            
+du0_n18_rf       = '1E-3*a_rf'         dlu0_n18_rf      = '1.2e-10*a_rf'      dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0                dlvsat_n18_rf    = '9e-4*a_rf'         dpvsat_n18_rf    = '4E-11*a_rf'            
+dvoff_n18_rf     = '-0.01*a_rf'        dwvth0_n18_rf     = '-6.5E-9*a_rf'        dwu0_n18_rf      = 0  
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_ckt_rf


* 1.8v nmos in dnw with 6 ports(MC corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw18_6t_ckt_rf 1 2 3 4 5 6 wr=2.5e-6 lr=1.8e-7 nf=16 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.00675 nrsr=0.00915625 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_n18_rf_mis     = '0+atoxe_n18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_n18_rf_mis     = '0+avth0_n18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_n18_rf_mis       = '0+au0_n18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvsat_n18_rf_mis     = '0+avsat_n18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dtoxe_n18_rf_mismatch         = '-4.6e-11*a_rf+dtoxe_n18_rf_mis'               
+dvth0_n18_rf_mismatch         = '-0.0325*a_rf+dvth0_n18_rf_mis'  
+du0_n18_rf_mismatch           = '1E-3*a_rf+du0_n18_rf_mis'               
+dvsat_n18_rf_mismatch         = '0*a_rf+dvsat_n18_rf_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_n18_rf=1e-024
+avth0_n18_rf=3.6e-009
+avsat_n18_rf = 1e-012
+au0_n18_rf   = 1.2e-010

*1.8v core nmos (mc corner)
+dtoxe_n18_rf      = '-4.6e-11*a_rf'     dxl_n18_rf       = '-5e-9*a_rf'        dxw_n18_rf       = '9.1e-9*a_rf' 
+dcj_n18_rf       = '-4.94e-5*a_rf'     dcjsw_n18_rf     = '-2.91e-12*a_rf'    dcjswg_n18_rf    = '-1.85e-11*a_rf'
+dcgdo_n18_rf     = '9e-12*a_rf'        dcgdl_n18_rf     = '5e-12*a_rf'        dcf_n18_rf       = '4.31e-12*a_rf'
+dvth0_n18_rf      = '-0.0325*a_rf'      dlvth0_n18_rf     = '-2.4e-9*a_rf'      dpvth0_n18_rf     = '-1.24E-15*a_rf'            
+du0_n18_rf       = '1E-3*a_rf'         dlu0_n18_rf      = '1.2e-10*a_rf'      dpu0_n18_rf      = 0  
+dvsat_n18_rf     = 0                dlvsat_n18_rf    = '9e-4*a_rf'         dpvsat_n18_rf    = '4E-11*a_rf'            
+dvoff_n18_rf     = '-0.01*a_rf'        dwvth0_n18_rf     = '-6.5E-9*a_rf'        dwu0_n18_rf      = 0  
+dcgdext_n18_rf = 0
+dcgsext_n18_rf = 0
+drg_n18_rf = 0
+drshg_n18_rf = 0


*diobpw(MC corner)
+dcj_diobpw_rf = 0      
+dcjsw_diobpw_rf = 0
*dnwdio(MC corner)
+dcj_dnwdio_rf          = 0    
+dcjsw_dnwdio_rf          = 0
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n18_rf='(6.229+drshg_n18_rf)*tcoef_temper'
*****************************************
+kcgdl='0.5749*Log(lr*1e6)+1.9162'
+kdlc= '0.6197*pwr(lr*1e6,-0.336)'
+Cgd_rf = 'max((0.1754*pwr(lr*1000000,0.8196)*wr*1000000+0.2349*pwr(lr*1000000,2.0815)+0.35)*nf*1e-15*(0.4736*pwr(nf,-1.785)+0.999),1e-18)'  
+Cgs_rf = 'max((0.0312*exp(-2.228*lr*1e6)*wr*1e6+0.1664*log(lr*1e6)+0.6883)*nf*1e-15*(2.3304*pwr(nf,-0.836)+0.88),1e-18)'
+Cds_rf = 'max(max((-0.192*Log(lr*1e6)-0.1941)*wr*1e6+1/(0.00000264*pwr(lr*1e6,-7.76)+10.92),0.03)*nf*1e-15,1e-18)'
+Rg_rf =  'max(1/(0.0327*pwr(lr*1000000,1.0167)*pwr(wr*1000000,0.3525*EXP(1.1485*lr*1000000))*(nf+3)),1e-3)' 
+Rsub1_rf = 'max((-3.6736*nf+179.52)*(1/(27.288*pwr(lr*1e6,3.3796)+0.75)),5)'
+Rsub2_rf = '35'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*11.6749)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_n18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n18_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                       m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  12 11 ndio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  32 31 ndio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 n18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  ndio18_rf  d  level = 3
**************************************************************
+area    = 1.8e-008        pj      = 0.00072         tref    = 25                                                                                              
+js      = '1.1508e-006'     jsw     = '1.4205e-014'     vb      = 11.5            ibv     = 55.6                                                              
+ikr     = 55556           n       = '1.1294'          rs      = 5.0328e-010                                                                                   
+cj      = '0.00098714+DCJ_N18_RF'      cjsw     = '5.8272e-011*0.7+DCJSW_N18_RF'     pb      = 0.70413         php     = 0.58719                                  
+fcs     = 0               mj      = 0.34744         mjsw    = 0.2        fc      = 0                                                                     
+tlev    = 1               tlevc   = 1               trs     = 0.0019296       xti     = 3                                                                     
+cta     = 0.00083836      ctp     = 0.001           tpb     = 0.001395       tphp    = 0.000868                                                               
+eg      = 1.16            tcv     = -0.0004   

***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level    = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw18_6t_ckt_rf

* 1.8v pmos (mos_mc corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p18_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis     = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis     = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis     = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis     = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis     = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '-4.6e-11*b_rf+dtoxe_p18_mis'
+dvth0_p18_mismatch_rf         = '0.054*b_rf+dvth0_p18_mis'
+du0_p18_mismatch_rf           = '0*b_rf+du0_p18_mis'
+dvoff_p18_mismatch_rf         = '-0.007*b_rf+dvoff_p18_mis'
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (mc corner)
+dtoxe_p18_rf     = '-4.6e-11*b_rf'     dxl_p18_rf       = '-5e-9*b_rf'           dxw_p18_rf       = '9.1e-9*b_rf' 
+dcj_p18_rf       = '-5.528E-05*b_rf'   dcjsw_p18_rf     = '-4.3704e-12*b_rf'     dcjswg_p18_rf    = '-2.1e-11*b_rf'
+dcgdo_p18_rf     = '1.05e-11*b_rf'     dcgdl_p18_rf     = '8.8e-12*b_rf'         dcf_p18_rf       = '4.25e-12*b_rf'
+dvth0_p18_rf     = '0.054*b_rf'        dlvth0_p18_rf    = '2e-9*b_rf'            dpvth0_p18_rf    = '6.8e-16*b_rf'            
+du0_p18_rf       = '0*b_rf'            dlu0_p18_rf      = '0*b_rf'               dpu0_p18_rf      = '1.6e-17*b_rf'  
+dvsat_p18_rf     = 0                   dlvsat_p18_rf    = 0                      dpvsat_p18_rf    = 0            
+dvoff_p18_rf     = '-0.007*b_rf'       dwvth0_p18_rf    = '3.0e-9*b_rf'          dwu0_p18_rf      = '5e-11*b_rf'  
+dlpe0_p18_rf     = 0                   dminv_p18_rf     = 0                      dlminv_p18_rf    = '-5e-8*b_rf'   
+dcj_pdio18_rf = 0
+dcjp_pdio18_rf = 0
+dcgdext_p18_rf = 0
+dcgsext_p18_rf = 0
+drg_p18_rf = 0
+drshg_p18_rf = 0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_ckt_rf

* 1.8v pmos with psub as 5th terminal(mos_mc corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p18_5t_ckt_rf 1 2 3 4 5 wr=1e-6 lr=1e-6 nf=1 sar=1.04e-006 sbr=1.04e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arnw=1e-12 pjnw=4e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+dtoxe_p18_mis     = '0+atoxe_p18_rf*geo_fac*sigma_mis_a_rf*mismod'
+dvth0_p18_mis     = '0+avth0_p18_rf*geo_fac*sigma_mis_b_rf*mismod'
+du0_p18_mis     = '0+au0_p18_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvoff_p18_mis     = '0+avoff_p18_rf*geo_fac*sigma_mis_d_rf*mismod'
+dvsat_p18_mis     = '0+avsat_p18_rf*geo_fac*sigma_mis_e_rf*mismod'
+dtoxe_p18_mismatch_rf         = '-4.6e-11*b_rf+dtoxe_p18_mis'
+dvth0_p18_mismatch_rf         = '0.054*b_rf+dvth0_p18_mis'
+du0_p18_mismatch_rf           = '0*b_rf+du0_p18_mis'
+dvoff_p18_mismatch_rf         = '-0.007*b_rf+dvoff_p18_mis'
+dvsat_p18_mismatch_rf         = '0+dvsat_p18_mis'
+geo_fac='1/sqrt(wef*lef*mr)'
+lef=l
+wef=w
+atoxe_p18_rf= 1e-024
+avth0_p18_rf= 3e-009
+avoff_p18_rf = 8.28e-012
+au0_p18_rf   = 3.8e-011
+avsat_p18_rf = 1e-07
*1.8v core pmos (mc corner)
+dtoxe_p18_rf     = '-4.6e-11*b_rf'     dxl_p18_rf       = '-5e-9*b_rf'           dxw_p18_rf       = '9.1e-9*b_rf' 
+dcj_p18_rf       = '-5.528E-05*b_rf'   dcjsw_p18_rf     = '-4.3704e-12*b_rf'     dcjswg_p18_rf    = '-2.1e-11*b_rf'
+dcgdo_p18_rf     = '1.05e-11*b_rf'     dcgdl_p18_rf     = '8.8e-12*b_rf'         dcf_p18_rf       = '4.25e-12*b_rf'
+dvth0_p18_rf     = '0.054*b_rf'        dlvth0_p18_rf    = '2e-9*b_rf'            dpvth0_p18_rf    = '6.8e-16*b_rf'            
+du0_p18_rf       = '0*b_rf'            dlu0_p18_rf      = '0*b_rf'               dpu0_p18_rf      = '1.6e-17*b_rf'  
+dvsat_p18_rf     = 0                   dlvsat_p18_rf    = 0                      dpvsat_p18_rf    = 0            
+dvoff_p18_rf     = '-0.007*b_rf'       dwvth0_p18_rf    = '3.0e-9*b_rf'          dwu0_p18_rf      = '5e-11*b_rf'  
+dlpe0_p18_rf     = 0                   dminv_p18_rf     = 0                      dlminv_p18_rf    = '-5e-8*b_rf'   
+dcj_pdio18_rf = 0
+dcjp_pdio18_rf = 0
+dcgdext_p18_rf = 0
+dcgsext_p18_rf = 0
+drg_p18_rf = 0
+drshg_p18_rf = 0
+dcj_nwdio_rf = 0
+dcjp_nwdio_rf = 0  
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p18_rf='(7.196+drshg_p18_rf)*tcoef_temper'
*****************************************
+Cgd_rf = '((0.4477e-15*(wr*1e+6)^0.7545+0.1652e-15)*(lr*1e+6)^0.36+(-0.3216e-15*(wr*1e+6)^0.6796+0.2989e-15))*nf'
+Cgs_rf = '((0.144e-15*(wr*1e+6)^0.6414+0.3587e-15)*(lr*1e+6)^0.36+(-0.171e-15*(wr*1e+6)^0.664+0.2733e-15))*nf+1.2e-15'
+Rg_rf = '((91.5*(wr*1e+6)^-1.6+1.2)*(lr*1e+6)^-1)*(nf+6)^-1*0.75'
+Rsub1_rf = '200/nf'
+Rsub2_rf = '((268.7*(wr*1e+6)^-0.5+77.85)*(lr*1e+6)^-1-286.8)*(nf+4)^-1'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*8.7477)'
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p18_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p18_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p18_rf)' m=mr
Cds_ext     15 31 1e-18                       m=mr
Rds         11 15 1e-3                        m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio18_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio18_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p18_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio18_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '9.5099e-008'     jsw     = '2.9999e-014'     vb      = 10.6            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99836'         rs      = 3.6817e-010
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001*(1+dcj_pdio18_rf)'       cjp     = '8.0e-011*(1+dcjp_pdio18_rf)'     pb      = 0.84022         php     = 0.43076
+fcs     = 0               mj      = 0.31824         mjsw    = 0.21959          fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0022422       xti     = 3
+cta     = 0.0010193       ctp     = 0.00040931      tpb     = 0.0014196       tphp    = 0.0009004
+eg      = 1.16
*
.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131*(1+dcj_nwdio_rf)'        cjp     = '5.0047e-010*(1+dcjp_nwdio_rf)'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
*

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p18_5t_ckt_rf

* 3.3v nmos (MC corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt n33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (mos_mc corner)
+dtoxe_n33_rf    = '-7.5531E-11*a_rf'     dxl_n33_rf      = '-5.0E-9*a_rf'         dxw_n33_rf      = '9.1E-9*a_rf'          
+dcjs_n33_rf     = '-4.3049E-5*a_rf'      dcjsws_n33_rf   = '-4.8385E-12*a_rf'  
+dcjswgs_n33_rf  = '-1.4141E-11*a_rf'     dcgdo_n33_rf    = '5.0E-12*a_rf'         dcgdl_n33_rf    = '1.3E-11*a_rf'       
+dcgso_n33_rf    = '5.0E-12*a_rf'         dcgsl_n33_rf    = '1.3E-11*a_rf'         dcf_n33_rf      = '3.775E-12*a_rf'      
+dvth0_n33_rf    = '-0.0554063*a_rf'      dlvth0_n33_rf   = '-7.6548E-9*a_rf'      dwvth0_n33_rf   = '-8.558e-9*a_rf' 
+dpvth0_n33_rf   = '1.0197E-15*a_rf'      du0_n33_rf      = '0.00181540*a_rf'      dlu0_n33_rf     = '1.0693E-10*a_rf'     
+dwu0_n33_rf     = '-9.4343E-11*a_rf'     dpu0_n33_rf     = '2.592E-16*a_rf'       dvsat_n33_rf    = '0*a_rf'             
+dlvsat_n33_rf   = '0.00106650*a_rf'      dwvsat_n33_rf   = '0*a_rf'               dpvsat_n33_rf   = '3.0E-10*a_rf'      
+djtsswgs_n33_rf = '8.224E-9*a_rf'        djtsswgd_n33_rf = '8.224E-9*a_rf'        dlagidl_n33_rf  = '1.6826E-14*a_rf'  
+dpagidl_n33_rf  = '5.5728E-21*a_rf'  

+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(mos_mc corner)
+dcj_ndio33_rf   = '-4.3049E-5*a_rf'
+dcjsw_ndio33_rf = '-4.8385E-12*a_rf'
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends n33_ckt_rf



* 3.3v nmos in dnw with 4 ports(MC corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt dnw33_ckt_rf 1 2 3 4 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (mos_mc corner)
+dtoxe_n33_rf    = '-7.5531E-11*a_rf'     dxl_n33_rf      = '-5.0E-9*a_rf'         dxw_n33_rf      = '9.1E-9*a_rf'          
+dcjs_n33_rf     = '-4.3049E-5*a_rf'      dcjsws_n33_rf   = '-4.8385E-12*a_rf'  
+dcjswgs_n33_rf  = '-1.4141E-11*a_rf'     dcgdo_n33_rf    = '5.0E-12*a_rf'         dcgdl_n33_rf    = '1.3E-11*a_rf'       
+dcgso_n33_rf    = '5.0E-12*a_rf'         dcgsl_n33_rf    = '1.3E-11*a_rf'         dcf_n33_rf      = '3.775E-12*a_rf'      
+dvth0_n33_rf    = '-0.0554063*a_rf'      dlvth0_n33_rf   = '-7.6548E-9*a_rf'      dwvth0_n33_rf   = '-8.558e-9*a_rf' 
+dpvth0_n33_rf   = '1.0197E-15*a_rf'      du0_n33_rf      = '0.00181540*a_rf'      dlu0_n33_rf     = '1.0693E-10*a_rf'     
+dwu0_n33_rf     = '-9.4343E-11*a_rf'     dpu0_n33_rf     = '2.592E-16*a_rf'       dvsat_n33_rf    = '0*a_rf'             
+dlvsat_n33_rf   = '0.00106650*a_rf'      dwvsat_n33_rf   = '0*a_rf'               dpvsat_n33_rf   = '3.0E-10*a_rf'      
+djtsswgs_n33_rf = '8.224E-9*a_rf'        djtsswgd_n33_rf = '8.224E-9*a_rf'        dlagidl_n33_rf  = '1.6826E-14*a_rf'  
+dpagidl_n33_rf  = '5.5728E-21*a_rf'  

+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(mos_mc corner)
+dcj_ndio33_rf   = '-4.3049E-5*a_rf'
+dcjsw_ndio33_rf = '-4.8385E-12*a_rf'
+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0

.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_ckt_rf

* 3.3v nmos in dnw with 6 ports(MC corner)
* 1=drain,2=gate,3=source,4=bulk,5=dnw,6=psub
.subckt dnw33_6t_ckt_rf 1 2 3 4 5 6 wr=1e-6 lr=1e-6 nf=1 sar=1.21e-006 sbr=1.21e-006 sdr=0.54e-6 nrdr=0.001 nrsr=0.001 mr=1 scar=0 scbr=0 sccr=0 mismod=1 arpw=162.01e-12 pjpw=55.12e-6 ardnw=190.57e-12 pjdnw=59.12e-6
.param
+w='wr*nf' l=lr 
.param
******mismatch******
+dtoxe_n33_mis_rf = 'dtoxe_n33_rf+atoxe_n33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_n33_mis_rf = 'dxl_n33_rf+axl_n33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_n33_mis_rf = 'dxw_n33_rf+axw_n33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_n33_mis_rf = 'dvth0_n33_rf+avth0_n33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_n33_mis_rf = 'du0_n33_rf+au0_n33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_n33_mis_rf = '0+avoff_n33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_n33_mis_rf = 'dvsat_n33_rf+avsat_n33_rf*geo_fac*sigma_mis_g_rf*mismod'

+dtoxe_n33_mismatch_rf = '0+dtoxe_n33_mis_rf'
+dxl_n33_mismatch_rf ='0+dxl_n33_mis_rf'
+dxw_n33_mismatch_rf ='0+dxw_n33_mis_rf'
+dvth0_n33_mismatch_rf='0+dvth0_n33_mis_rf'
+du0_n33_mismatch_rf ='0+du0_n33_mis_rf'
+dvoff_n33_mismatch_rf ='0+dvoff_n33_mis_rf'
+dvsat_n33_mismatch_rf ='0+dvsat_n33_mis_rf'

+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_n33_rf = 5E-19             
+axl_n33_rf = 6E-17              
+axw_n33_rf = 6E-17              
+avth0_n33_rf = 8E-9            
+au0_n33_rf = 1.55E-10          
+avoff_n33_rf = 7e-9             
+avsat_n33_rf = 0

*3.3v IO nmos (mos_mc corner)
+dtoxe_n33_rf    = '-7.5531E-11*a_rf'     dxl_n33_rf      = '-5.0E-9*a_rf'         dxw_n33_rf      = '9.1E-9*a_rf'          
+dcjs_n33_rf     = '-4.3049E-5*a_rf'      dcjsws_n33_rf   = '-4.8385E-12*a_rf'  
+dcjswgs_n33_rf  = '-1.4141E-11*a_rf'     dcgdo_n33_rf    = '5.0E-12*a_rf'         dcgdl_n33_rf    = '1.3E-11*a_rf'       
+dcgso_n33_rf    = '5.0E-12*a_rf'         dcgsl_n33_rf    = '1.3E-11*a_rf'         dcf_n33_rf      = '3.775E-12*a_rf'      
+dvth0_n33_rf    = '-0.0554063*a_rf'      dlvth0_n33_rf   = '-7.6548E-9*a_rf'      dwvth0_n33_rf   = '-8.558e-9*a_rf' 
+dpvth0_n33_rf   = '1.0197E-15*a_rf'      du0_n33_rf      = '0.00181540*a_rf'      dlu0_n33_rf     = '1.0693E-10*a_rf'     
+dwu0_n33_rf     = '-9.4343E-11*a_rf'     dpu0_n33_rf     = '2.592E-16*a_rf'       dvsat_n33_rf    = '0*a_rf'             
+dlvsat_n33_rf   = '0.00106650*a_rf'      dwvsat_n33_rf   = '0*a_rf'               dpvsat_n33_rf   = '3.0E-10*a_rf'      
+djtsswgs_n33_rf = '8.224E-9*a_rf'        djtsswgd_n33_rf = '8.224E-9*a_rf'        dlagidl_n33_rf  = '1.6826E-14*a_rf'  
+dpagidl_n33_rf  = '5.5728E-21*a_rf'  

+drshg_n33_rf    = 0
+drg_n33_rf      = 0
+dcgdext_n33_rf  = 0
+dcgsext_n33_rf  = 0

*ndio33_rf(mos_mc corner)
+dcj_ndio33_rf   = '-4.3049E-5*a_rf'
+dcjsw_ndio33_rf = '-4.8385E-12*a_rf'
*diobpw_rf(mos_mc corner)
+djs_diobpw_rf   = 0.00           
+djsw_diobpw_rf  = 0.00          
+dn_diobpw_rf    = 0.00
+dcj_diobpw_rf   = 0.00           
+dcjsw_diobpw_rf = 0.00
*dnwdio_rf(mos_mc corner)
+djs_dnwdio_rf   = 0.00           
+djsw_dnwdio_rf  = 0.00          
+dn_dnwdio_rf    = 0.00
+dcj_dnwdio_rf   = 0.00           
+dcjsw_dnwdio_rf = 0.00

+tc1r = 3.00e-03               tc2r = 9.75e-08   
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'  
+rshg_n33_rf='(6.229+drshg_n33_rf)*tcoef_temper'
***********************************************
+Rg_rf	       = 'max((1/(1.472E-32*pwr(lr,-4.885)+0.497))*((1.987*exp(-5.279E+06*lr))*(((0.0007874+51.24*wr)+((-97.72)+(-5.316E7)*wr)*lr)+((5.049E-6+1.042*wr)+((-3.595)+1.26E5*wr)*lr)*nf)/wr/nf),1e-3)'
+Cgd_rf        = 'max((1/(0.00000000004343*pwr(lr,-1.473)+0.97))*((0.0001332*lr-2.01E-11)*wr+(5.532E-12*lr+4.606E-16))*nf,1e-18)'
+Cgs_rf	       = 'max((4.383E-43*pwr(lr,-6.406)+0.99988)*(1.008*exp(-416800*wr)+0.084)*(3.936e-16*LOG(lr)+6.428E-15)*EXP(wr*(-3.91224E11*lr+195609))*nf,1e-18)'
+Cds_rf	       = '0.5*max((1.405e-11*pwr(wr,-1.732)+0.797)*((-8.212e-11*log(lr)-1.005e-9)*wr-(1/(7.619E-18*pwr(lr,-2.45)+0.179)*1e-17))*nf,1e-18)'
+Rsub1_rf      = 'max(-1.076E+08*lr+256,1e-3)'
+Rsub2_rf      = '0.01*max((((2.191E4+(-2.115E9)*wr))+(((-428.3)+4.045E7*wr))*nf)/nf,1e-3)'
+Rsub3_rf      =  Rsub2_rf
+Rdc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rsc_n33_rf    = 'max((86.7923*exp(-0.1713*wr*1e6)),1e-3)'
+Rds_rf	       = 'max(460.31*exp(-223066*wr),1e-3)'
+Djdb_AREA_rf  = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf    = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf  = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf    = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)' 
*****************************************

Lgate       2 20 1p                                m=mr
Rgate       20 21 'Rg_rf*(1+drg_n33_rf)'           m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_n33_rf)'      m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_n33_rf)'      m=mr
Cds_ext     15 31 Cds_rf                           m=mr
Rds         11 15 Rds_rf                           m=mr
Ldrain      1 11 1p                                m=mr
Lsource     3 31 1p                                m=mr
*****************************************
Djdb  12 11
+ ndio33_rf
+ AREA  = Djdb_AREA_rf
+ PJ    = Djdb_PJ_rf 
+ m     = mr
***
Djsb  32 31
+ ndio33_rf
+ AREA  = Djsb_AREA_rf
+ PJ    = Djsb_PJ_rf
+ m     = mr
***
djbdn  4 5 diobpw_rf area=arpw pj=pjpw m=mr
djpsub 6 5 dnwdio_rf area=ardnw pj=pjdnw m=mr
*****************************************
Rsub1      41  4  Rsub1_rf       m=mr
Rsub2      41  12 Rsub2_rf       m=mr
Rsub3      41  32 Rsub3_rf       m=mr
*****************************************
main 11 21 31 41 n33_ckt_r l=l w='wr*nf' nf=nf sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrs=nrsr nrd=nrdr sca=scar scb=scbr scc=sccr m=mr

.model  ndio33_rf  d  level = 3
**************************************************************
*               general parameters
**************************************************************
+dcap    = 2               area    = 4e-10               pj      = 0.00008               tref    = 25
**************************************************************
*               dc parameters
**************************************************************
+js      = '4.1904e-007'     jsw     = '3.9508e-013'     expli   = 1e+020          ikr     = 2.50e+06
+n       = '1.0296'          rs      = 2.8395e-010     jtun    = 0               jtunsw  = 0
+ntun    = 30              ibv = 2.50e+03 vb = 11.8
**************************************************************
*               capacitance parameters
**************************************************************
+cj      = '0.00086098+dcj_ndio33_rf'      cjsw     = '(9.677e-011+dcjsw_ndio33_rf)*0.5'      pb      = 0.70384         php     = 0.44462
+fcs     = 0             mj      = 0.32174         mjsw    = 0.16049         fc      = 0
+tt      = 0
**************************************************************
*               noise parameters
**************************************************************
**************************************************************
*               temperature parameters
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.00065303
+xti     = 3               xtitun  = 3               cta     = 0.00093975      ctp     = 0.00046393
+tpb     = 0.0016752       tphp    = 0.0009385       eg      = 1.16            gap1    = 0.000702
+gap2    = 1108            ttt1    = 0               ttt2    = 0               tm1     = 0
+tm2     = 0
***********************************************************************************
*                        buried pwell/deep nwell diode model                      * 
***********************************************************************************
.model diobpw_rf d    
+level   = 3                   
+area    = 1.8e-008        pj      = 0.00072         tref    = 25
+js      = '1.0388e-006'     jsw     = '1.4035e-013'     vb      = 15.5            ibv     = 55.6
+ikr     = 55556           n       = '1.1225'          rs      = 1.8727e-010
+cj      = '0.00049858+dcj_diobpw_rf'      cjsw     = '3.9867e-010+dcjsw_diobpw_rf'     pb      = 0.67589         php     = 0.88873
+fcs     = 0               mj      = 0.33041         mjsw    = 0.444           fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 0.00035608      xti     = 3
+cta     = 0.00090633      ctp     = 0.00080455      tpb     = 0.001448        tphp    = 0.0012196
+eg      = 1.16            tcv     = -0.0005

***********************************************************************************
*                        deep nwell/pusb diode model                              * 
***********************************************************************************
.model  dnwdio_rf  d  level = 3
+area    = 1.8e-008     pj      = 0.00072        tref    = 25
+js      = '2.1632e-006'     jsw     = '1.177e-012'      vb      = 16              ibv     = 55.556
+ikr     = 55556           n       = '1.0435'          rs      = 1.3973e-007
+cj      = '0.00013824+dcj_dnwdio_rf'      cjsw     = '4.1094e-010+dcjsw_dnwdio_rf'     pb      = 0.52465         php     = 0.62598
+fcs     = 0               mj      = 0.32294         mjsw    = 0.35115         fc      = 0
+tlev    = 1               tlevc   = 1               trs     = 1e-005          xti     = 3
+cta     = 0.001326        ctp     = 0.001221        tpb     = 0.0013127       tphp    = 0.0015078
+eg      = 1.16            gap1    = 7.02e-04        tcv     = -0.0006
*
.inc 'mse018_v1p11_mis_rf.mdl'
.ends dnw33_6t_ckt_rf


* 3.3v pmos (MC corner)
* 1=drain,2=gate,3=source,4=bulk
.subckt p33_ckt_rf 1 2 3 4 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'

*p33_ckt(mos_mc corner)
+dtoxe_p33_rf= '-7.5531E-11*b_rf'    dxl_p33_rf = '-5.0E-9*b_rf'        
+dxw_p33_rf = '9.1E-9*b_rf'          dcjs_p33_rf= '-5.22E-5*b_rf'        dcjsws_p33_rf= '-4.285E-12*b_rf'   
+dcjswgs_p33_rf= '-1.2111E-11*b_rf'  dcgdo_p33_rf= '5.0E-12*b_rf'        dcgso_p33_rf= '5.0E-12*b_rf'       
+dcgdl_p33_rf= '1.26E-11*b_rf'       dcgsl_p33_rf= '1.26E-11*b_rf'       dcf_p33_rf = '1.525E-12*b_rf'      
+dvth0_p33_rf= '0.054786*b_rf'       dlvth0_p33_rf= '1.1949E-9*b_rf'     dwvth0_p33_rf= '3.7507E-9*b_rf'    
+dpvth0_p33_rf= '1.0598E-15*b_rf'    du0_p33_rf = '0.000555257*b_rf'     dlu0_p33_rf= '5.446E-11*b_rf'      
+dwu0_p33_rf= '1.0488E-10*b_rf'      dpu0_p33_rf= '-1.4E-17*b_rf'        dvsat_p33_rf= '0*b_rf'             
+dlvsat_p33_rf= '0.000937728*b_rf'   dwvsat_p33_rf= '0*b_rf'             dpvsat_p33_rf= '3.9E-11*b_rf'      
+dagidl_p33_rf= '0*b_rf'             dlagidl_p33_rf= '4.7142E-18*b_rf'   dwagidl_p33_rf= '2.0E-18*b_rf'     
+dpagidl_p33_rf= '1.0E-24*b_rf'      

+dcgdext_p33_rf = 0
+dcgsext_p33_rf = 0
+drg_p33_rf = 0
+drshg_p33_rf = 0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_ckt_rf

* 1.8v pmos with psub as 5th terminal(MC corner)
* 1=drain,2=gate,3=source,4=bulk,5=psub
.subckt p33_5t_ckt_rf 1 2 3 4 5 wr=2.5e-6 lr=3e-7 nf=16 sar=1.16u sbr=1.16u sdr=0.54u nrdr=0.00675 nrsr=0.00953125 mr=1 scar=0 scbr=0 sccr=0 mismod=1  arnw=180.37e-12 pjnw=59.44e-6
.param w='wr*nf' l=lr
.param
******mismatch******
+xlr = 1E-8                    
+xwr = 1E-8         
+lef = 'l+xlr'                
+wef = 'w/nf+xwr'             
+geo_fac = '1/sqrt(wef*lef*nf*mr)' 
+atoxe_p33_rf = 5E-19             
+axl_p33_rf = 6E-17               
+axw_p33_rf = 6E-17               
+avth0_p33_rf = 3.30E-9           
+au0_p33_rf = 3.65E-11            
+avoff_p33_rf = -2.6E-9           
+aeta0_p33_rf = 0                 
+avsat_p33_rf = -1.65E-3          
+dtoxe_p33_rf_mis = 'dtoxe_p33_rf+atoxe_p33_rf*geo_fac*sigma_mis_a_rf*mismod'
+dxl_p33_rf_mis = 'dxl_p33_rf+axl_p33_rf*geo_fac*sigma_mis_b_rf*mismod'
+dxw_p33_rf_mis = 'dxw_p33_rf+axw_p33_rf*geo_fac*sigma_mis_c_rf*mismod'
+dvth0_p33_rf_mis = 'dvth0_p33_rf+avth0_p33_rf*geo_fac*sigma_mis_d_rf*mismod'
+du0_p33_rf_mis = 'du0_p33_rf+au0_p33_rf*geo_fac*sigma_mis_e_rf*mismod'
+dvoff_p33_rf_mis = '0+avoff_p33_rf*geo_fac*sigma_mis_f_rf*mismod'
+dvsat_p33_rf_mis = 'dvsat_p33_rf+avsat_p33_rf*geo_fac*sigma_mis_g_rf*mismod'
+deta0_p33_rf_mis = '0+aeta0_p33_rf*geo_fac*sigma_mis_h_rf*mismod'
+dtoxe_p33_rf_mismatch = '0+dtoxe_p33_rf_mis'
+dxl_p33_rf_mismatch ='0+dxl_p33_rf_mis'
+dxw_p33_rf_mismatch ='0+dxw_p33_rf_mis'
+dvth0_p33_rf_mismatch='0+dvth0_p33_rf_mis'
+du0_p33_rf_mismatch ='0+du0_p33_rf_mis'
+dvoff_p33_rf_mismatch ='0+dvoff_p33_rf_mis'
+dvsat_p33_rf_mismatch ='0+dvsat_p33_rf_mis'
+deta0_p33_rf_mismatch = '0+deta0_p33_rf_mis'

*p33_ckt(mos_mc corner)
+dtoxe_p33_rf= '-7.5531E-11*b_rf'    dxl_p33_rf = '-5.0E-9*b_rf'        
+dxw_p33_rf = '9.1E-9*b_rf'          dcjs_p33_rf= '-5.22E-5*b_rf'        dcjsws_p33_rf= '-4.285E-12*b_rf'   
+dcjswgs_p33_rf= '-1.2111E-11*b_rf'  dcgdo_p33_rf= '5.0E-12*b_rf'        dcgso_p33_rf= '5.0E-12*b_rf'       
+dcgdl_p33_rf= '1.26E-11*b_rf'       dcgsl_p33_rf= '1.26E-11*b_rf'       dcf_p33_rf = '1.525E-12*b_rf'      
+dvth0_p33_rf= '0.054786*b_rf'       dlvth0_p33_rf= '1.1949E-9*b_rf'     dwvth0_p33_rf= '3.7507E-9*b_rf'    
+dpvth0_p33_rf= '1.0598E-15*b_rf'    du0_p33_rf = '0.000555257*b_rf'     dlu0_p33_rf= '5.446E-11*b_rf'      
+dwu0_p33_rf= '1.0488E-10*b_rf'      dpu0_p33_rf= '-1.4E-17*b_rf'        dvsat_p33_rf= '0*b_rf'             
+dlvsat_p33_rf= '0.000937728*b_rf'   dwvsat_p33_rf= '0*b_rf'             dpvsat_p33_rf= '3.9E-11*b_rf'      
+dagidl_p33_rf= '0*b_rf'             dlagidl_p33_rf= '4.7142E-18*b_rf'   dwagidl_p33_rf= '2.0E-18*b_rf'     
+dpagidl_p33_rf= '1.0E-24*b_rf'      

+dcgdext_p33_rf = 0
+dcgsext_p33_rf = 0
+drg_p33_rf = 0
+drshg_p33_rf = 0
*nwdio(MC corner)
+dcj_nwdio_rf	=	0
+dcjp_nwdio_rf	=	0
+tc1r = 3.00e-03               tc2r = 2.76e-07            
+tcoef_temper = '1.0+(temper-25.0)*(tc1r+tc2r*(temper-25.0))'
+rshg_p33_rf='(7.196+drshg_p33_rf)*tcoef_temper'

*****************************************
+Cgd_rf = 'max(((0.9013*pwr(lr*1e6,0.038)-0.8)*wr*1e6+0.4911*pwr(lr*1e6,0.1793))*nf*1e-15,1e-18)'
+Cgs_rf = 'max((0.4145*pwr(lr*1e6,1.8456)+0.535)*nf*(1.8232*pwr(nf,-1.519)+0.987)*exp(wr*1e6*(0.1426*pwr(nf,-0.559)-0.01))*1e-15,1e-18)'
+Cds_rf = 'max(1*((0.0306*pwr(lr*1e6,-1.178)-0.03)*wr*1e6-0.0143*lr*1000000+0.0293)*nf*1e-15,1e-18)'
+Rg_rf  = 'max((195.55*pwr(nf,-1.232)+4)*pwr(wr*1000000,0.6293*pwr(nf,-2.407)-0.306)*0.3205*pwr(lr*1000000,-0.947),1e-3)'
+Rsub1_rf = 'max(36.67*pwr(nf,-0.252),1e-3)'
+Rsub2_rf = 'max(94.041*exp(-0.036*nf),1e-3)'
+Djdb_AREA_rf = 'int(0.5*(nf+1))*(wr*(0.54-2*0.07)*1e-6)'                                                                                                      
+Djdb_PJ_rf   = 'int(0.5*(nf+1))*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'                                                                                          
+Djsb_AREA_rf = 'int(0.5*nf+1)*wr*(0.54-2*0.07)*1e-6'                                                                                                          
+Djsb_PJ_rf   = 'int(0.5*nf+1)*(2*(0.54-2*0.07)*1e-6+2*wr*4.71)'  
*****************************************
Lgate       2 20  1p                          m=mr
Rgate       20 21 'Rg_rf*(1+drg_p33_rf)'      m=mr
Cgd_ext     21 11 'Cgd_rf*(1+dcgdext_p33_rf)' m=mr
Cgs_ext     21 31 'Cgs_rf*(1+dcgsext_p33_rf)' m=mr
Cds_ext     15 31 'Cds_rf'                    m=mr
Rds         11 15 10                          m=mr
Ldrain       1 11 1p                          m=mr
Lsource      3 31 1p                          m=mr
*****************************************
Djdb  11 12 pdio33_rf AREA=Djdb_AREA_rf PJ=Djdb_PJ_rf m=mr
Djsb  31 32 pdio33_rf AREA=Djsb_AREA_rf PJ=Djsb_PJ_rf m=mr
Djnw  5 4   nwdio_rf  AREA=arnw PJ=pjnw               m=mr 
*****************************************
Rsub1      41  4  Rsub1_rf m=mr
Rsub2      41  12 Rsub2_rf m=mr
Rsub3      41  32 Rsub2_rf m=mr
*****************************************
main 11 21 31 41 p33_ckt_r w='wr*nf' l=l sa=sar sb=sbr sd=sdr as=0 ad=0 ps=0 pd=0 nrd=nrdr nrs=nrsr sca=scar scb=scbr scc=sccr nf=nf m=mr
*****************************************
.model  pdio33_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 4e-010          pj      = 8e-005          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '1.0586e-007'     jsw     = '4.9737e-014'     vb      = 11.0            ibv     = 2500
+ikr     = 2.5e+006        n       = '0.99891'         
*+rs      = 5.8769e-09
+rs      = 5.87E-10
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.001044+dcjs_p33_rf'        cjp     = '8.5736e-011+dcjsws_p33_rf'     pb      = 0.82134         php     = 0.63646
+fcs     = 0               mj      = 0.398           mjsw    = 0.30364         fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               tcv     = 0               trs     = 0.002833
+xti     = 3               cta     = 0.00092673      ctp     = 0.0012244      tpb     = 0.0015412
+tphp    = 0.0022178       eg      = 1.16

.model  nwdio_rf  d  level = 3
**************************************************************
*               GENERAL PARAMETERS
**************************************************************
+dcap    = 2               area    = 9.6e-009        pj      = 4e-004          tref    = 25
**************************************************************
*               DC PARAMETERS
**************************************************************
+is      = '2.3733e-006'     jsw     = '2.9142e-014'     vb      = 15              ibv     = 104
+ikr     = 104170          n       = '1.085'           rs      = 8.4602e-009
**************************************************************
*               CAPACITANCE PARAMETERS
**************************************************************
+cj      = '0.000131+dcj_nwdio_rf'        cjp     = '5.0047e-010+dcjp_nwdio_rf'     pb      = 0.41624         php     = 0.81575
+fcs     = 0               mj      = 0.26295         mjsw    = 0.377           fc      = 0
**************************************************************
*               NOISE PARAMETERS
**************************************************************
**************************************************************
*               TEMPERATURE PARAMETERS
**************************************************************
+tlev    = 1               tlevc   = 1               trs     = 0.0004       xti     = 3
+cta     = 0.0017608       ctp     = 0.0012659       tpb     = 0.00155      tphp    = 0.0022128
+eg      = 1.16
.inc 'mse018_v1p11_mis_rf.mdl'
.ends p33_5t_ckt_rf

.endl mos_mc


******************************************************************
* Spiral psub Inductor Corner model *
******************************************************************
.LIB ind_rf_psub_tt
.PARAM 
+dls_ind_rf_psub= 0
+drs_ind_rf_psub= 0
.INC 'mse018_v1p11_ind_rf_psub.ckt'
.ENDL ind_rf_psub_tt

.LIB ind_rf_psub_ff
.PARAM 
+dls_ind_rf_psub = -0.015
+drs_ind_rf_psub = -0.14
.INC 'mse018_v1p11_ind_rf_psub.ckt'
.ENDL ind_rf_psub_ff

.LIB ind_rf_psub_ss
.PARAM
+dls_ind_rf_psub = 0.015
+drs_ind_rf_psub = 0.17
.INC 'mse018_v1p11_ind_rf_psub.ckt'
.ENDL ind_rf_psub_ss

******************************************************************
* Spiral Inductor Corner model *
******************************************************************
.LIB ind_rf_tt
.PARAM 
+dls_ind_rf= 0
+drs_ind_rf= 0
.INC 'mse018_v1p11_ind_rf.ckt'
.ENDL ind_rf_tt

.LIB ind_rf_ff
.PARAM 
+dls_ind_rf = -0.015
+drs_ind_rf = -0.14
.INC 'mse018_v1p11_ind_rf.ckt'
.ENDL ind_rf_ff

.LIB ind_rf_ss
.PARAM
+dls_ind_rf = 0.015
+drs_ind_rf = 0.17
.INC 'mse018_v1p11_ind_rf.ckt'
.ENDL ind_rf_ss

******************************************************************
* 3T Differential psub Inductor Corner model *
******************************************************************
.LIB 3Tdiff_psub_tt
.PARAM 
+dls_3Tdiff_psub = 0
+drs_3Tdiff_psub = 0
.INC 'mse018_v1p11_diff_ind_3t_rf_psub.ckt'
.ENDL 3Tdiff_psub_tt

.LIB 3Tdiff_psub_ff
.PARAM 
+dls_3Tdiff_psub = -0.015
+drs_3Tdiff_psub = -0.14
.INC 'mse018_v1p11_diff_ind_3t_rf_psub.ckt'
.ENDL 3Tdiff_psub_ff

.LIB 3Tdiff_psub_ss
.PARAM
+dls_3Tdiff_psub = 0.015
+drs_3Tdiff_psub = 0.17
.INC 'mse018_v1p11_diff_ind_3t_rf_psub.ckt'
.ENDL 3Tdiff_psub_ss

******************************************************************
* 3T Differential Inductor Corner model *
******************************************************************
.LIB 3Tdiff_tt
.PARAM 
+dls_3Tdiff = 0
+drs_3Tdiff = 0
.INC 'mse018_v1p11_diff_ind_3t_rf.ckt'
.ENDL 3Tdiff_tt

.LIB 3Tdiff_ff
.PARAM 
+dls_3Tdiff = -0.015
+drs_3Tdiff = -0.14
.INC 'mse018_v1p11_diff_ind_3t_rf.ckt'
.ENDL 3Tdiff_ff

.LIB 3Tdiff_ss
.PARAM
+dls_3Tdiff = 0.015
+drs_3Tdiff = 0.17
.INC 'mse018_v1p11_diff_ind_3t_rf.ckt'
.ENDL 3Tdiff_ss

******************************************************************
* 2T Differential psub Inductor Corner model *
******************************************************************
.LIB 2Tdiff_psub_tt
.PARAM 
+dls_2Tdiff_psub = 0
+drs_2Tdiff_psub = 0
.INC 'mse018_v1p11_diff_ind_rf_psub.ckt'
.ENDL 2Tdiff_psub_tt

.LIB 2Tdiff_psub_ff
.PARAM 
+dls_2Tdiff_psub = -0.015
+drs_2Tdiff_psub = -0.14
.INC 'mse018_v1p11_diff_ind_rf_psub.ckt'
.ENDL 2Tdiff_psub_ff

.LIB 2Tdiff_psub_ss
.PARAM
+dls_2Tdiff_psub = 0.015
+drs_2Tdiff_psub = 0.17
.INC 'mse018_v1p11_diff_ind_rf_psub.ckt'
.ENDL 2Tdiff_psub_ss

******************************************************************
* 2T Differential Inductor Corner model *
******************************************************************
.LIB 2Tdiff_tt
.PARAM 
+dls_2Tdiff = 0
+drs_2Tdiff = 0
.INC 'mse018_v1p11_diff_ind_rf.ckt'
.ENDL 2Tdiff_tt

.LIB 2Tdiff_ff
.PARAM 
+dls_2Tdiff = -0.015
+drs_2Tdiff = -0.14
.INC 'mse018_v1p11_diff_ind_rf.ckt'
.ENDL 2Tdiff_ff

.LIB 2Tdiff_ss
.PARAM
+dls_2Tdiff = 0.015
+drs_2Tdiff = 0.17
.INC 'mse018_v1p11_diff_ind_rf.ckt'
.ENDL 2Tdiff_ss
*****************************************************************
* Spiral psub Inductor Monte Carlo model  *
*****************************************************************
.LIB ind_rf_psub_mc
.PARAM
+sigma_ind_rf_psub = agauss(0,1,3)
+dls_ind_rf_psub = '-0.015*sigma_ind_rf_psub' 
+drs_ind_rf_psub = '-0.15*sigma_ind_rf_psub'      
.INC 'mse018_v1p11_ind_rf_psub.ckt'
.ENDL ind_rf_psub_mc

*****************************************************************
* Spiral Inductor Monte Carlo model *
*****************************************************************
.LIB ind_rf_mc
.PARAM
+sigma_ind_rf = agauss(0,1,3)
+dls_ind_rf = '-0.015*sigma_ind_rf' 
+drs_ind_rf = '-0.15*sigma_ind_rf'      
.INC 'mse018_v1p11_ind_rf.ckt'
.ENDL ind_rf_mc

****************************************************************
* 3T Differential psub Inductor Monte Carlo model *
****************************************************************
.LIB 3Tdiff_psub_mc
.PARAM
+sigma_3Tdiff_psub = agauss(0,1,3)
+dls_3Tdiff_psub = '-0.015*sigma_3Tdiff_psub'
+drs_3Tdiff_psub = '-0.15*sigma_3Tdiff_psub'         
.INC 'mse018_v1p11_diff_ind_3t_rf_psub.ckt'
.ENDL 3Tdiff_psub_mc

****************************************************************
* 3T Differential Inductor Monte Carlo model *
****************************************************************
.LIB 3Tdiff_mc
.PARAM
+sigma_3Tdiff = agauss(0,1,3)
+dls_3Tdiff = '-0.015*sigma_3Tdiff'
+drs_3Tdiff = '-0.15*sigma_3Tdiff'         
.INC 'mse018_v1p11_diff_ind_3t_rf.ckt'
.ENDL 3Tdiff_mc

***************************************************************
*2T Differential psub Inductor Monte Carlo model *
***************************************************************
.LIB 2Tdiff_psub_mc
.PARAM
+sigma_2Tdiff_psub = agauss(0,1,3)
+dls_2Tdiff_psub = '-0.015*sigma_2Tdiff_psub'
+drs_2Tdiff_psub = '-0.15*sigma_2Tdiff_psub'
.INC 'mse018_v1p11_diff_ind_rf_psub.ckt'
.ENDL 2Tdiff_psub_mc

***************************************************************
*2T Differential Inductor Monte Carlo model *
***************************************************************
.LIB 2Tdiff_mc
.PARAM
+sigma_2Tdiff = agauss(0,1,3)
+dls_2Tdiff = '-0.015*sigma_2Tdiff'
+drs_2Tdiff = '-0.15*sigma_2Tdiff'
.INC 'mse018_v1p11_diff_ind_rf.ckt'
.ENDL 2Tdiff_mc
***************************************************
* Resistor Corner model *
***************************************************
.LIB RES_TT
.PARAM 
*Resistor
+drsh_rndifsab_rf      = 0            
+drsh_rpdifsab_rf      = 0            
+drsh_rnposab_rf       = 0           
+drsh_rpposab_rf       = 0                  
+drsh_rhrpo_rf         = 0            
.INC 'mse018_v1p11_rf_res.ckt'
.ENDL RES_TT
******************
.LIB RES_FF
.PARAM
*Resistor
+drsh_rndifsab_rf      = -10.346         
+drsh_rpdifsab_rf      = -25.579        
+drsh_rnposab_rf       = -38.725 
+drsh_rpposab_rf       = -48.7382       
+drsh_rhrpo_rf         = -145.14         
.INC 'mse018_v1p11_rf_res.ckt'
.ENDL RES_FF
******************
.LIB RES_SS
.PARAM
*resistor
+drsh_rndifsab_rf      = 10.346          
+drsh_rpdifsab_rf      = 25.579         
+drsh_rnposab_rf       = 38.725
+drsh_rpposab_rf       = 48.7382           
+drsh_rhrpo_rf         = 145.14          
.INC 'mse018_v1p11_rf_res.ckt'
.ENDL RES_SS  
******************
******************************
* Resistor Monte Carlo model *
******************************
.LIB RES_MC
.PARAM
+sigma_res_mc_rf       = agauss(0,1,3)
+drsh_rndifsab_rf      = '10.346*sigma_res_mc_rf'          
+drsh_rpdifsab_rf      = '25.579*sigma_res_mc_rf'       
+drsh_rnposab_rf       = '38.725*sigma_res_mc_rf'
+drsh_rpposab_rf       = '48.7382*sigma_res_mc_rf'
+drsh_rhrpo_rf         = '145.14*sigma_res_mc_rf'   
.INC 'mse018_v1p11_rf_res.ckt'
.ENDL RES_MC
***************************************************
* Mos varactor Corner model *
***************************************************
.LIB VAR_TT
.PARAM
*MOS Varactor
+sigma_mis_var_rf = agauss(0,1,1) 
+dtox_pvar18_rf         = 0
+dcgg_pvar18_rf         = 0   
+drs_pvar18_rf          = 0        
*3.3v N+Nwell varactor(tt corner)
+ac0_pvar33_rf=4.55610E-03      
+bc0_pvar33_rf=5.84611E-05
+DCGG_PVAR33_RF         = 0 
+DRS_PVAR33_RF          = 0         
.INC 'mse018_v1p11_rf_var.ckt'
.ENDL  VAR_TT
******************
.LIB VAR_FF
.PARAM
+sigma_mis_var_rf = agauss(0,1,1) 
+dtox_pvar18_rf        = -1e-10 
+dcgg_pvar18_rf        = 0.05   
+drs_pvar18_rf         = -0.125 
*3.3v N+Nwell varactor(ff corner)
+ac0_pvar33_rf=4.55610E-03      
+bc0_pvar33_rf=5.84611E-05
*MOS Varactor
+DCGG_PVAR33_RF        = 0.05     
+DRS_PVAR33_RF         = -0.125         
.INC 'mse018_v1p11_rf_var.ckt'
.ENDL  VAR_FF
******************
.LIB VAR_SS
.PARAM
*MOS Varactor
+sigma_mis_var_rf = agauss(0,1,1)  
+dtox_pvar18_rf        = 1e-10 
+dcgg_pvar18_rf        = -0.05
+drs_pvar18_rf         = 0.125 
*3.3v N+Nwell varactor(ss corner)
+ac0_pvar33_rf=4.55610E-03      
+bc0_pvar33_rf=5.84611E-05
+DCGG_PVAR33_RF        = -0.05
+DRS_PVAR33_RF         = 0.125      
.INC 'mse018_v1p11_rf_var.ckt'
.ENDL  VAR_SS    
**************************************
*   Mos varactor Monte Carlo model   * 
**************************************
.LIB VAR_MC
.PARAM
+sigma_var_rf          = agauss(0,1,3)
+sigma_mis_var_rf         = agauss(0,1,1) 
+dtox_pvar18_rf        = '1e-10*sigma_var_rf' 
+dcgg_pvar18_rf        = '0.05*sigma_var_rf'            
+drs_pvar18_rf         = '-0.125*sigma_var_rf'        
*3.3v N+Nwell varactor(mc corner)
+ac0_pvar33_rf=4.55610E-03      
+bc0_pvar33_rf=5.84611E-05
*MOS Varactor
+DCGG_PVAR33_RF        = '0.05*sigma_var_rf'        
+DRS_PVAR33_RF         = '-0.125*sigma_var_rf'            
.INC 'mse018_v1p11_rf_var.ckt'
.ENDL  VAR_MC
***************************************************
* MIM Corner model *
***************************************************
.LIB MIM_TT                      
.PARAM                           
+dmim_rf   = 0
+dmim2_rf  = 0
.INC 'mse018_v1p11_rf_mim.ckt'     
.ENDL MIM_TT                     
******************
.LIB MIM_FF                      
.PARAM                           
+dmim_rf   = -1.938e-4
+dmim2_rf  = -1.99e-04         
.INC 'mse018_v1p11_rf_mim.ckt'     
.ENDL MIM_FF                     
******************
.LIB MIM_SS                      
.PARAM                           
+dmim_rf   = 1.938e-4
+dmim2_rf  = 1.99e-04        
.INC 'mse018_v1p11_rf_mim.ckt'     
.ENDL MIM_SS                     
*************************
* MIM Monte Carlo model *
*************************
.LIB MIM_MC
.PARAM
+sigma_mim_mc_rf          = agauss(0,1,3)
+dmim_rf   = '-1.938e-4*sigma_mim_mc_rf'
+dmim2_rf = '-1.99e-04*sigma_mim_mc_rf'
.INC 'mse018_v1p11_rf_mim.ckt'
.ENDL MIM_MC

